 
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Daixtrose User Manual</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cis.ohio-state.edu/~gurari/TeX4ht/mn.html)"> 
<!--html--> 
<meta name="src" content="main.tex"> 
<meta name="date" content="2003-04-30 09:28:00"> 
<link rel="stylesheet" type="text/css" href="main.css"> 
</head><body 
>
<div align="center" class="maketitle">
                                                                                      
                                                                                      
<h2 class="titleHead">Daixtrose User Manual</h2>
<div class="author" align="center"><span 
class="cmss-12">Markus Werle</span></div>
<br>
<div class="date" align="center"><span 
class="cmss-12">April 30, 2003</span></div>
</div>
<h3 class="likesectionHead"><a 
  name="x1-1000"></a>Contents</h3>
<div class="tableofcontents">
<span class="sectionToc">1 <a 
href="#x1-20001" name="QQ2-1-2">Installation Instructions</a></span>
<br>&nbsp;<span class="subsectionToc">1.1 <a 
href="#x1-30001.1" name="QQ2-1-3">System Requirements</a></span>
<br>&nbsp;<span class="subsectionToc">1.2 <a 
href="#x1-40001.2" name="QQ2-1-4">Software Requirements</a></span>
<br>&nbsp;<span class="subsectionToc">1.3 <a 
href="#x1-50001.3" name="QQ2-1-5">Autotools Based Installation Procedure</a></span>
<br>&nbsp;<span class="subsectionToc">1.4 <a 
href="#x1-60001.4" name="QQ2-1-6">Update of the Library</a></span>
<br><span class="sectionToc">2 <a 
href="#x1-70002" name="QQ2-1-7">Code Organization</a></span>
<br><span class="sectionToc">3 <a 
href="#x1-80003" name="QQ2-1-8">Quick Tour</a></span>
<br>&nbsp;<span class="subsectionToc">3.1 <a 
href="#x1-90003.1" name="QQ2-1-9">Fixed-Sized Matrix and Vector</a></span>
<br>&nbsp;<span class="subsectionToc">3.2 <a 
href="#x1-100003.2" name="QQ2-1-10">Linalg: Sparse Matrix and Vector</a></span>
<br>&nbsp;<span class="subsectionToc">3.3 <a 
href="#x1-110003.3" name="QQ2-1-11">A Sparse Matrix of Fixed-Sized Matrices</a></span>
<br>&nbsp;<span class="subsectionToc">3.4 <a 
href="#x1-120003.4" name="QQ2-1-12">Using the Core Engine (Building Expression Templates at Home)</a></span>
<br>&nbsp;&nbsp;<span class="subsubsectionToc">3.4.1 <a 
href="#x1-130003.4.1" name="QQ2-1-13">Delaying Evaluation</a></span>
<br>&nbsp;&nbsp;<span class="subsubsectionToc">3.4.2 <a 
href="#x1-140003.4.2" name="QQ2-1-14">Expression Evaluation</a></span>
<br>&nbsp;&nbsp;<span class="subsubsectionToc">3.4.3 <a 
href="#x1-150003.4.3" name="QQ2-1-15">Assignment from an Expression</a></span>
<br>&nbsp;&nbsp;<span class="subsubsectionToc">3.4.4 <a 
href="#x1-160003.4.4" name="QQ2-1-16">Disambiguation</a></span>
                                                                                      
                                                                                      
<br>&nbsp;&nbsp;<span class="subsubsectionToc">3.4.5 <a 
href="#x1-170003.4.5" name="QQ2-1-17">Value Semantics vs. Reference Semantics</a></span>
<br>&nbsp;&nbsp;<span class="subsubsectionToc">3.4.6 <a 
href="#x1-180003.4.6" name="QQ2-1-18">Adding Polymorphic Behaviour to Expression Templates</a></span>
<br>&nbsp;&nbsp;<span class="subsubsectionToc">3.4.7 <a 
href="#x1-190003.4.7" name="QQ2-1-19">Compile Time Differentiation</a></span>
<br>&nbsp;&nbsp;<span class="subsubsectionToc">3.4.8 <a 
href="#x1-200003.4.8" name="QQ2-1-20">Poor Man&#8217;s Lambda Library</a></span>
<br>&nbsp;<span class="subsectionToc">3.5 <a 
href="#x1-210003.5" name="QQ2-1-21">Have a lot of fun</a></span>
</div>
                                                                                      
                                                                                      
<a name="section.1"></a>
<h3 class="sectionHead"><span class="titlemark">1</span> <a 
  name="x1-20001"></a>Installation Instructions</h3><a name="subsection.1.1"></a>
<h4 class="subsectionHead"><span class="titlemark">1.1</span> <a 
  name="x1-30001.1"></a>System Requirements</h4>
<!--l. 10--><p class="noindent"><span 
class="cmssbx-10--109">Daixtrose </span>is (or at least should be) platform independent. It&#8217;s only a C++ header library, nothing more. If
You want to use the GNU autotools based installation procedure which compiles the testsuite, any unix
system or a similar environment like cygwin is nice to have, but this library is intended to be platform
independent.
<a name="subsection.1.2"></a>
<h4 class="subsectionHead"><span class="titlemark">1.2</span> <a 
  name="x1-40001.2"></a>Software Requirements</h4>
<!--l. 19--><p class="noindent"><span 
class="cmssbx-10--109">Daixtrose </span>depends on the following software
     <ul class="itemize1">
     <li class="itemize">A modern high performance ANSI compliant C++ compiler.
     <!--l. 30--><p class="noindent">This library exploits most of the bright and dark corners of C++ templates. At present only
     Intel&#8217;s C++ version 7.0 with option -ansi is known to compile this code. GNU gcc-3.4 will
     be able to compile this, since it only suffers from a parser bug in using declarations, which is
     promised to be fixed soon.
     </li>
     <li class="itemize">the <span 
class="cmtt-10--109">boost</span> library (see   <a 
href="http://www.boost.org" class="url" ><span 
class="cmtt-10--109">http://www.boost.org</span></a>)
     </li>
     <li class="itemize">the <span 
class="cmtt-10--109">loki</span> library (see   <a 
href="http://sourceforge.net/projects/loki-lib" class="url" ><span 
class="cmtt-10--109">http://sourceforge.net/projects/loki-lib</span></a>)</li></ul>
<!--l. 45--><p class="noindent">This library is completely header-based and a simple <span 
class="cmtt-10--109">#include &#34;SomeHeader.h&#34;</span> will do. The most
important one is <span 
class="cmtt-10--109">daixtrose/Daixt.h</span> which includes all of the core engine. But of course You may
<span 
class="cmtt-10--109">#include</span> the files in a more refined way.
<!--l. 50--><p class="noindent"><span 
class="cmssbx-10--109">Daixtrose </span>is shipped with a fixed-sized matrix and vector package. <span 
class="cmtt-10--109">#include &#34;tiny/TinyMatAndVec.h&#34;</span>
in order to use it. <span 
class="cmssbx-10--109">Daixtrose </span>also comes with a (yet incomplete) linear algebra package (sparse matrix +
vector). In order to use these one needs to <span 
class="cmtt-10--109">#include &#34;linalg/Linalg.h&#34;</span>
<a name="subsection.1.3"></a>
<h4 class="subsectionHead"><span class="titlemark">1.3</span> <a 
  name="x1-50001.3"></a>Autotools Based Installation Procedure</h4>
<!--l. 59--><p class="noindent">To ease the compilation of the testsuite and in order to support possible future diversification of the library,
daixtrose is shipped with a GNU autotool-based configure shell script.
                                                                                      
                                                                                      
<!--l. 63--><p class="noindent">Perform the following steps (probably with some modifications), if You like to get the examples built (it is
recommened to create a new directory <span 
class="cmssi-10--109">outside </span>of this directory, to keep the original source tree
clean):
<div class="fancyvrb" id="fancyvrb1"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-5002r1"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">$</span>&nbsp;<span 
class="cmtt-10">cd</span>&nbsp;<span 
class="cmtt-10">..</span>
<a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-5004r2"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">$</span>&nbsp;<span 
class="cmtt-10">mkdir</span>&nbsp;<span 
class="cmtt-10">build-daixtrose</span>
<a name="FancyVerbLine.4"></a>
<br class="fancyvrb"><a 
  name="x1-5006r3"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">$</span>&nbsp;<span 
class="cmtt-10">cd</span>&nbsp;<span 
class="cmtt-10">build-daixtrose</span>
<a name="FancyVerbLine.5"></a>
<br class="fancyvrb"><a 
  name="x1-5008r4"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">$</span>&nbsp;<span 
class="cmtt-10">../daixtrose-0.0.1/configure</span>&nbsp;<span 
class="cmtt-10">\</span>
<a name="FancyVerbLine.6"></a>
<br class="fancyvrb"><a 
  name="x1-5010r5"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">CXX=icpc</span>&nbsp;<span 
class="cmtt-10">CPPFLAGS=&#34;-g</span>&nbsp;<span 
class="cmtt-10">-wd76</span>&nbsp;<span 
class="cmtt-10">-ansi</span>&nbsp;<span 
class="cmtt-10">-O3</span>&nbsp;<span 
class="cmtt-10">-Ob2&#34;</span>&nbsp;<span 
class="cmtt-10">\</span>
<a name="FancyVerbLine.7"></a>
<br class="fancyvrb"><a 
  name="x1-5012r6"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">--prefix=$HOME/daixtrose-0.0.1</span>&nbsp;<span 
class="cmtt-10">\</span>
<a name="FancyVerbLine.8"></a>
<br class="fancyvrb"><a 
  name="x1-5014r7"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">--with-loki=/path/to/loki/prefix</span>&nbsp;<span 
class="cmtt-10">\</span>
<a name="FancyVerbLine.9"></a>
<br class="fancyvrb"><a 
  name="x1-5016r8"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">--with-boost=/path/to/boost/prefix</span>
<a name="FancyVerbLine.10"></a>
<br class="fancyvrb"><a 
  name="x1-5018r9"></a>&nbsp;&nbsp;<a name="FancyVerbLine.11"></a>
<br class="fancyvrb"><a 
  name="x1-5020r10"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">$</span>&nbsp;<span 
class="cmtt-10">make</span>
<a name="FancyVerbLine.12"></a>
<br class="fancyvrb"><a 
  name="x1-5022r11"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">$</span>&nbsp;<span 
class="cmtt-10">make</span>&nbsp;<span 
class="cmtt-10">check</span>
<br class="fancyvrb"><a 
  name="x1-5024r12"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">$</span>&nbsp;<span 
class="cmtt-10">make</span>&nbsp;<span 
class="cmtt-10">install</span>
</div>
<!--l. 82--><p class="noindent">At present the command <span 
class="cmtt-10--109">make</span> will do nothing.
<!--l. 84--><p class="noindent">The command <span 
class="cmtt-10--109">make check</span> is optional and may be omitted. It evokes compilation of all the examples in
the directory <span 
class="cmtt-10--109">demos</span> and can be regarded as a compiler test.
<!--l. 88--><p class="noindent">The command <span 
class="cmtt-10--109">make install</span> will install the headers under <span 
class="cmtt-10--109">prefix/include</span>.
<!--l. 91--><p class="noindent">For further control over the installation procedure consider the output of <span 
class="cmtt-10--109">../daixtrose-0.0.1/configure --help</span>.
<a name="subsection.1.4"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4</span> <a 
  name="x1-60001.4"></a>Update of the Library</h4>
<!--l. 99--><p class="noindent">This lib undergoes permanent evolution. So it is a good idea to consider regular updates. Visit the
homepage of <span 
class="cmssbx-10--109">Daixtrose </span>at <span 
class="cmtt-10--109">http://daixtrose.sf.net</span> for download instructions.
<!--l. 103--><p class="noindent">A more frequent update is possible through checkouts of the cvs repository. The following commands are
sufficient to check out the latest version:
<div class="fancyvrb" id="fancyvrb2"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-6002r1"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">$</span>&nbsp;<span 
class="cmtt-10">cvs</span>&nbsp;<span 
class="cmtt-10">-d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/daixtrose</span>&nbsp;<span 
class="cmtt-10">login</span>
<a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-6004r2"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">$</span>&nbsp;<span 
class="cmtt-10">cvs</span>&nbsp;<span 
class="cmtt-10">-z3</span>&nbsp;<span 
class="cmtt-10">-d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/daixtrose</span>&nbsp;<span 
class="cmtt-10">\</span>
<br class="fancyvrb"><a 
  name="x1-6006r3"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">co</span>&nbsp;<span 
class="cmtt-10">daixtrose</span>
</div>
<!--l. 113--><p class="noindent">You may also visit the cvs web-interface at   <a 
href="http://sourceforge.net/cvs/?group_id=75079" class="url" ><span 
class="cmtt-10--109">http://sourceforge.net/cvs/?group_id=75079</span></a>
                                                                                      
                                                                                      
<a name="section.2"></a>
<h3 class="sectionHead"><span class="titlemark">2</span> <a 
  name="x1-70002"></a>Code Organization</h3>
<!--l. 6--><p class="noindent">The code of <span 
class="cmssbx-10--109">Daixtrose </span>is organized as follows:
<!--l. 8--><p class="noindent">All sourcecode is located in the directory <span 
class="cmtt-10--109">src</span>.
     <ul class="itemize1">
     <li class="itemize">directory <span 
class="cmtt-10--109">daixtrose</span> constains the core Expression Template library
     </li>
     <li class="itemize">directory <span 
class="cmtt-10--109">tiny</span> contains the fixed sized matrix and vector library built on top of the <span 
class="cmssbx-10--109">Daixtrose</span>
     core library
     </li>
     <li class="itemize">directory <span 
class="cmtt-10--109">linalg</span> contains a linear algebra library mainly consisting of an STL-based sparse
     matrix implementation with compatible vector classes.
     </li>
     <li class="itemize">directory <span 
class="cmtt-10--109">demos</span> contains smaller examples which give an idea about the features offered by
     the already mentioned parts of the library.</li></ul>
                                                                                      
                                                                                      
<a name="section.3"></a>
<h3 class="sectionHead"><span class="titlemark">3</span> <a 
  name="x1-80003"></a>Quick Tour</h3>
<!--l. 4--><p class="noindent">You want to know what <span 
class="cmssbx-10--109">Daixtrose </span>is good for? This is an attempt to explain it within 10 minutes. Built on
top of the core <span 
class="cmssbx-10--109">Daixtrose </span>library are two matrix and vector library snippets, one for applications where the
sizes of matrices or vectors are known at compile time and one for large scale applications with sparse
storage of the matrix and a more flexible approach.
<!--l. 10--><p class="noindent">Both primarily were intended as demo code to show the power of <span 
class="cmssbx-10--109">Daixtrose</span>, but they already do a decent
job in the authors doctoral thesis project, a time-implicit finite element solver. Therefore you
can profit from Daixtrose even if you do not want to build your own Expression Template
library on top of <span 
class="cmssbx-10--109">Daixtrose</span>, but rather are only in need of a fairly good matrix and vector
library.
<!--l. 17--><p class="noindent">All code examples presented here can be found in the directory <span 
class="cmtt-10--109">src/demos/quicktour/</span> and will get
compiled during a <span 
class="cmtt-10--109">make check</span> as described in the installation instructions (<a 
href="#x1-20001">1<!--tex4ht:ref: sec: Installation Instructions--></a>).
<a name="subsection.3.1"></a>
<h4 class="subsectionHead"><span class="titlemark">3.1</span> <a 
  name="x1-90003.1"></a>Fixed-Sized Matrix and Vector</h4>
<!--l. 28--><p class="noindent"><span 
class="cmtt-10--109">TinyMatrix</span> and <span 
class="cmtt-10--109">TinyVector</span> are inspired by Todd Veldhuizen&#8217;s <span 
class="cmtt-10--109">blitz++</span> library. They are one-based (first
index is 1 not 0) and can be used like this:
<div class="fancyvrb" id="fancyvrb3"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-9002r1"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&lt;iostream&gt;</span><a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-9004r2"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;tiny/TinyMatAndVec.h&#34;</span>
<a name="FancyVerbLine.4"></a>
<br class="fancyvrb"><a 
  name="x1-9006r3"></a>&nbsp;&nbsp;<a name="FancyVerbLine.5"></a>
<br class="fancyvrb"><a 
  name="x1-9008r4"></a>&nbsp;&nbsp;<span 
class="cmtt-10">int</span>&nbsp;<span 
class="cmtt-10">main()</span>
<a name="FancyVerbLine.6"></a>
<br class="fancyvrb"><a 
  name="x1-9010r5"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.7"></a>
<br class="fancyvrb"><a 
  name="x1-9012r6"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">all</span>&nbsp;<span 
class="cmtt-10">features</span>&nbsp;<span 
class="cmtt-10">are</span>&nbsp;<span 
class="cmtt-10">hidden</span>&nbsp;<span 
class="cmtt-10">in</span>&nbsp;<span 
class="cmtt-10">sub-namespaces</span>&nbsp;<span 
class="cmtt-10">and</span>&nbsp;<span 
class="cmtt-10">have</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">be</span>&nbsp;<span 
class="cmtt-10">made</span>
<a name="FancyVerbLine.8"></a>
<br class="fancyvrb"><a 
  name="x1-9014r7"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">visible</span>&nbsp;<span 
class="cmtt-10">when</span>&nbsp;<span 
class="cmtt-10">needed,</span>&nbsp;<span 
class="cmtt-10">here</span>&nbsp;<span 
class="cmtt-10">we</span>&nbsp;<span 
class="cmtt-10">want</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">use</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">output</span>&nbsp;<span 
class="cmtt-10">utilities</span>&nbsp;<span 
class="cmtt-10">and</span>
<a name="FancyVerbLine.9"></a>
<br class="fancyvrb"><a 
  name="x1-9016r8"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">we</span>&nbsp;<span 
class="cmtt-10">want</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">work</span>&nbsp;<span 
class="cmtt-10">with</span>&nbsp;<span 
class="cmtt-10">matrix-vector</span>&nbsp;<span 
class="cmtt-10">expressions</span>
<a name="FancyVerbLine.10"></a>
<br class="fancyvrb"><a 
  name="x1-9018r9"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt::OutputUtilities;</span>
<a name="FancyVerbLine.11"></a>
<br class="fancyvrb"><a 
  name="x1-9020r10"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps;</span>
<a name="FancyVerbLine.12"></a>
<br class="fancyvrb"><a 
  name="x1-9022r11"></a>&nbsp;&nbsp;<a name="FancyVerbLine.13"></a>
<br class="fancyvrb"><a 
  name="x1-9024r12"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">a</span>&nbsp;<span 
class="cmtt-10">shorthand</span>&nbsp;<span 
class="cmtt-10">saves</span>&nbsp;<span 
class="cmtt-10">us</span>&nbsp;<span 
class="cmtt-10">from</span>&nbsp;<span 
class="cmtt-10">a</span>&nbsp;<span 
class="cmtt-10">lot</span>&nbsp;<span 
class="cmtt-10">of</span>&nbsp;<span 
class="cmtt-10">typing</span>
<a name="FancyVerbLine.14"></a>
<br class="fancyvrb"><a 
  name="x1-9026r13"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">TinyMatAndVec;</span>
<a name="FancyVerbLine.15"></a>
<br class="fancyvrb"><a 
  name="x1-9028r14"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">TinyVector&lt;double,</span>&nbsp;<span 
class="cmtt-10">3&gt;</span>&nbsp;<span 
class="cmtt-10">TinyVec;</span>
<a name="FancyVerbLine.16"></a>
<br class="fancyvrb"><a 
  name="x1-9030r15"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">TinyQuadraticMatrix&lt;double,</span>&nbsp;<span 
class="cmtt-10">3&gt;</span>&nbsp;<span 
class="cmtt-10">TinyMat;</span>
<a name="FancyVerbLine.17"></a>
<br class="fancyvrb"><a 
  name="x1-9032r16"></a>&nbsp;&nbsp;<a name="FancyVerbLine.18"></a>
<br class="fancyvrb"><a 
  name="x1-9034r17"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">TinyMat</span>&nbsp;<span 
class="cmtt-10">M1;</span>&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">no</span>&nbsp;<span 
class="cmtt-10">data</span>&nbsp;<span 
class="cmtt-10">initialization</span>&nbsp;<span 
class="cmtt-10">(for</span>&nbsp;<span 
class="cmtt-10">efficiency</span>&nbsp;<span 
class="cmtt-10">reasons)</span>
<a name="FancyVerbLine.19"></a>
<br class="fancyvrb"><a 
  name="x1-9036r18"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">TinyMat</span>&nbsp;<span 
class="cmtt-10">M2</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">3.0;</span>&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">all</span>&nbsp;<span 
class="cmtt-10">entries</span>&nbsp;<span 
class="cmtt-10">are</span>&nbsp;<span 
class="cmtt-10">initialized</span>&nbsp;<span 
class="cmtt-10">with</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">value</span>
<a name="FancyVerbLine.20"></a>
<br class="fancyvrb"><a 
  name="x1-9038r19"></a>&nbsp;&nbsp;<a name="FancyVerbLine.21"></a>
<br class="fancyvrb"><a 
  name="x1-9040r20"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">M1</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">2.0;</span>&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">set</span>&nbsp;<span 
class="cmtt-10">all</span>&nbsp;<span 
class="cmtt-10">entries</span>&nbsp;<span 
class="cmtt-10">at</span>&nbsp;<span 
class="cmtt-10">once</span>
<a name="FancyVerbLine.22"></a>
<br class="fancyvrb"><a 
  name="x1-9042r21"></a>&nbsp;&nbsp;<a name="FancyVerbLine.23"></a>
<br class="fancyvrb"><a 
  name="x1-9044r22"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">M1(2,</span>&nbsp;<span 
class="cmtt-10">1)</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">15.99;</span>&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">The</span>&nbsp;<span 
class="cmtt-10">index</span>&nbsp;<span 
class="cmtt-10">operator</span>
<a name="FancyVerbLine.24"></a>
<br class="fancyvrb"><a 
  name="x1-9046r23"></a>&nbsp;&nbsp;<a name="FancyVerbLine.25"></a>
<br class="fancyvrb"><a 
  name="x1-9048r24"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">TinyMat</span>&nbsp;<span 
class="cmtt-10">M3</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">M2</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">Transpose(M1);</span>
<a name="FancyVerbLine.26"></a>
<br class="fancyvrb"><a 
  name="x1-9050r25"></a>&nbsp;&nbsp;<a name="FancyVerbLine.27"></a>
                                                                                      
                                                                                      
<br class="fancyvrb"><a 
  name="x1-9052r26"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">Some</span>&nbsp;<span 
class="cmtt-10">of</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">things</span>&nbsp;<span 
class="cmtt-10">one</span>&nbsp;<span 
class="cmtt-10">expects</span>&nbsp;<span 
class="cmtt-10">from</span>&nbsp;<span 
class="cmtt-10">a</span>&nbsp;<span 
class="cmtt-10">tiny</span>&nbsp;<span 
class="cmtt-10">matrix</span>&nbsp;<span 
class="cmtt-10">lib</span>
<a name="FancyVerbLine.28"></a>
<br class="fancyvrb"><a 
  name="x1-9054r27"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">M3</span>&nbsp;<span 
class="cmtt-10">*=</span>&nbsp;<span 
class="cmtt-10">0.5;</span>
<a name="FancyVerbLine.29"></a>
<br class="fancyvrb"><a 
  name="x1-9056r28"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">M3</span>&nbsp;<span 
class="cmtt-10">-=</span>&nbsp;<span 
class="cmtt-10">1.0;</span>
<a name="FancyVerbLine.30"></a>
<br class="fancyvrb"><a 
  name="x1-9058r29"></a>&nbsp;&nbsp;<a name="FancyVerbLine.31"></a>
<br class="fancyvrb"><a 
  name="x1-9060r30"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">note</span>&nbsp;<span 
class="cmtt-10">that</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">next</span>&nbsp;<span 
class="cmtt-10">operation</span>&nbsp;<span 
class="cmtt-10">does</span>&nbsp;<span 
class="cmtt-10">not</span>&nbsp;<span 
class="cmtt-10">produce</span>&nbsp;<span 
class="cmtt-10">any</span>&nbsp;<span 
class="cmtt-10">temporaries</span>&nbsp;<span 
class="cmtt-10">and</span>
<a name="FancyVerbLine.32"></a>
<br class="fancyvrb"><a 
  name="x1-9062r31"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">therefore</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">rhs</span>&nbsp;<span 
class="cmtt-10">might</span>&nbsp;<span 
class="cmtt-10">be</span>&nbsp;<span 
class="cmtt-10">completely</span>&nbsp;<span 
class="cmtt-10">optimized</span>&nbsp;<span 
class="cmtt-10">away</span>
<a name="FancyVerbLine.33"></a>
<br class="fancyvrb"><a 
  name="x1-9064r32"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">TinyMat</span>&nbsp;<span 
class="cmtt-10">M4</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">M1</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">M3;</span>
<a name="FancyVerbLine.34"></a>
<br class="fancyvrb"><a 
  name="x1-9066r33"></a>&nbsp;&nbsp;<a name="FancyVerbLine.35"></a>
<br class="fancyvrb"><a 
  name="x1-9068r34"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">pretty</span>&nbsp;<span 
class="cmtt-10">print</span>&nbsp;<span 
class="cmtt-10">output</span>
<a name="FancyVerbLine.36"></a>
<br class="fancyvrb"><a 
  name="x1-9070r35"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cerr</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">M1</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">M2</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">M3</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">M4</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">'\n';</span>
<a name="FancyVerbLine.37"></a>
<br class="fancyvrb"><a 
  name="x1-9072r36"></a>&nbsp;&nbsp;<a name="FancyVerbLine.38"></a>
<br class="fancyvrb"><a 
  name="x1-9074r37"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">TinyVec</span>&nbsp;<span 
class="cmtt-10">V1</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">5.0;</span>
<a name="FancyVerbLine.39"></a>
<br class="fancyvrb"><a 
  name="x1-9076r38"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">V1(2)</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">0.0;</span>
<a name="FancyVerbLine.40"></a>
<br class="fancyvrb"><a 
  name="x1-9078r39"></a>&nbsp;&nbsp;<a name="FancyVerbLine.41"></a>
<br class="fancyvrb"><a 
  name="x1-9080r40"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">no</span>&nbsp;<span 
class="cmtt-10">temporaries</span>&nbsp;<span 
class="cmtt-10">-</span>&nbsp;<span 
class="cmtt-10">and</span>&nbsp;<span 
class="cmtt-10">a</span>&nbsp;<span 
class="cmtt-10">looong</span>&nbsp;<span 
class="cmtt-10">compile</span>&nbsp;<span 
class="cmtt-10">time</span>&nbsp;<span 
class="cmtt-10">;-)</span>
<a name="FancyVerbLine.42"></a>
<br class="fancyvrb"><a 
  name="x1-9082r41"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">TinyVec</span>&nbsp;<span 
class="cmtt-10">V2</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">M1</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">M2</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">(M3</span>&nbsp;<span 
class="cmtt-10">-</span>&nbsp;<span 
class="cmtt-10">M4)</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">V1;</span>
<a name="FancyVerbLine.43"></a>
<br class="fancyvrb"><a 
  name="x1-9084r42"></a>&nbsp;&nbsp;<a name="FancyVerbLine.44"></a>
<br class="fancyvrb"><a 
  name="x1-9086r43"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">delimiters</span>&nbsp;<span 
class="cmtt-10">required</span>
<a name="FancyVerbLine.45"></a>
<br class="fancyvrb"><a 
  name="x1-9088r44"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cerr</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">(V2</span>&nbsp;<span 
class="cmtt-10">==</span>&nbsp;<span 
class="cmtt-10">M1</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">M2</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">(M3</span>&nbsp;<span 
class="cmtt-10">-</span>&nbsp;<span 
class="cmtt-10">M4)</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">V1);</span>
<a name="FancyVerbLine.46"></a>
<br class="fancyvrb"><a 
  name="x1-9090r45"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<br class="fancyvrb"><a 
  name="x1-9092r46"></a>&nbsp;&nbsp;
</div>
<a name="subsection.3.2"></a>
<h4 class="subsectionHead"><span class="titlemark">3.2</span> <a 
  name="x1-100003.2"></a>Linalg: Sparse Matrix and Vector</h4>
<!--l. 41--><p class="noindent">The sparse matrix implementation presented here assumes a row-oriented usage like e.g. in matrix-vector
multiplications or additions resp. subtractions. The matrix data is stored in a <span 
class="cmtt-10--109">std::vector</span> of
user-definable <span 
class="cmtt-10--109">RowStorage</span>s that must behave like a <span 
class="cmtt-10--109">std::map&lt;size</span>_<span 
class="cmtt-10--109">t, T&gt;</span>, which is the default. Each
line in the matrix is represented by a <span 
class="cmtt-10--109">RowStorage</span>, where the keys store the colum number. In addition to
the common matrix interface (index operator, etc.) the user additionally has read-only access to each line
or column, which allows individual manipulations if needed. Like for <span 
class="cmtt-10--109">TinyMatrix</span> the sparse matrix and the
compatible vector are one-based.
<!--l. 52--><p class="noindent">Due to the sparse representation of the matrix it is not completely possible to avoid all temporaries during
assignment of matrix expressions, but the run-time and memory overhead is negligible for matrices with
more than 100 lines. The assignment loop creates new rows and inserts them at the correct places of the
asignee.
<!--l. 58--><p class="noindent">Self assignment and assignment from expressions which contain the assigned Matrix or Vector will be
detected at runtime and will safely produce a temporary before final assignment.
<!--l. 62--><p class="noindent">To allow complete, fine grained control over memory management, the allocators for the <span 
class="cmtt-10--109">RowStorage</span> can
be optionally chosen to be different from <span 
class="cmtt-10--109">std::allocator</span>
<!--l. 66--><p class="noindent">Here is some code which demonstrates the features which are available. (Mentioning the allocators in the
typedefs is not needed, but for demonstration purposes the defaults are shown in the following
example).
                                                                                      
                                                                                      
<div class="fancyvrb" id="fancyvrb4"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-10002r1"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;linalg/Linalg.h&#34;</span>
<a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-10004r2"></a>&nbsp;&nbsp;<a name="FancyVerbLine.4"></a>
<br class="fancyvrb"><a 
  name="x1-10006r3"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&lt;map&gt;</span>
<a name="FancyVerbLine.5"></a>
<br class="fancyvrb"><a 
  name="x1-10008r4"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&lt;cstddef&gt;</span><a name="FancyVerbLine.6"></a>
<br class="fancyvrb"><a 
  name="x1-10010r5"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&lt;iostream&gt;</span><a name="FancyVerbLine.7"></a>
<br class="fancyvrb"><a 
  name="x1-10012r6"></a>&nbsp;&nbsp;<a name="FancyVerbLine.8"></a>
<br class="fancyvrb"><a 
  name="x1-10014r7"></a>&nbsp;&nbsp;<a name="FancyVerbLine.9"></a>
<br class="fancyvrb"><a 
  name="x1-10016r8"></a>&nbsp;&nbsp;<span 
class="cmtt-10">int</span>&nbsp;<span 
class="cmtt-10">main()</span>
<a name="FancyVerbLine.10"></a>
<br class="fancyvrb"><a 
  name="x1-10018r9"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.11"></a>
<br class="fancyvrb"><a 
  name="x1-10020r10"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">Shortcuts.</span>&nbsp;<span 
class="cmtt-10">Mentioning</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">allocators</span>&nbsp;<span 
class="cmtt-10">is</span>&nbsp;<span 
class="cmtt-10">not</span>&nbsp;<span 
class="cmtt-10">needed,</span>&nbsp;<span 
class="cmtt-10">here</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">defaults</span>&nbsp;<span 
class="cmtt-10">are</span>&nbsp;<span 
class="cmtt-10">shown</span>
<a name="FancyVerbLine.12"></a>
<br class="fancyvrb"><a 
  name="x1-10022r11"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">Linalg::Matrix&lt;double,</span>
<a name="FancyVerbLine.13"></a>
<br class="fancyvrb"><a 
  name="x1-10024r12"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::map&lt;std::size_t,</span>&nbsp;<span 
class="cmtt-10">double&gt;,</span>
<a name="FancyVerbLine.14"></a>
<br class="fancyvrb"><a 
  name="x1-10026r13"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::allocator&lt;std::map&lt;std::size_t,</span>&nbsp;<span 
class="cmtt-10">double&gt;</span>&nbsp;<span 
class="cmtt-10">&gt;</span>&nbsp;<span 
class="cmtt-10">&gt;</span>&nbsp;<span 
class="cmtt-10">Matrix;</span>
<a name="FancyVerbLine.15"></a>
<br class="fancyvrb"><a 
  name="x1-10028r14"></a>&nbsp;&nbsp;<a name="FancyVerbLine.16"></a>
<br class="fancyvrb"><a 
  name="x1-10030r15"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">Linalg::Vector&lt;double,</span>
<a name="FancyVerbLine.17"></a>
<br class="fancyvrb"><a 
  name="x1-10032r16"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::allocator&lt;double&gt;</span>&nbsp;<span 
class="cmtt-10">&gt;</span>&nbsp;<span 
class="cmtt-10">Vector;</span>
<a name="FancyVerbLine.18"></a>
<br class="fancyvrb"><a 
  name="x1-10034r17"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">use</span>&nbsp;<span 
class="cmtt-10">operaor+,-,*,/</span>&nbsp;<span 
class="cmtt-10">etc</span>
<a name="FancyVerbLine.19"></a>
<br class="fancyvrb"><a 
  name="x1-10036r18"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps;</span>
<a name="FancyVerbLine.20"></a>
<br class="fancyvrb"><a 
  name="x1-10038r19"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">allows</span>&nbsp;<span 
class="cmtt-10">multiplication</span>&nbsp;<span 
class="cmtt-10">of</span>&nbsp;<span 
class="cmtt-10">non-disambigauted</span>&nbsp;<span 
class="cmtt-10">scalars</span>
<a name="FancyVerbLine.21"></a>
<br class="fancyvrb"><a 
  name="x1-10040r20"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt::Convenience;</span>
<a name="FancyVerbLine.22"></a>
<br class="fancyvrb"><a 
  name="x1-10042r21"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">output</span>&nbsp;<span 
class="cmtt-10">routines</span>
<a name="FancyVerbLine.23"></a>
<br class="fancyvrb"><a 
  name="x1-10044r22"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt::OutputUtilities;</span>
<a name="FancyVerbLine.24"></a>
<br class="fancyvrb"><a 
  name="x1-10046r23"></a>&nbsp;&nbsp;<a name="FancyVerbLine.25"></a>
<br class="fancyvrb"><a 
  name="x1-10048r24"></a>&nbsp;&nbsp;<a name="FancyVerbLine.26"></a>
<br class="fancyvrb"><a 
  name="x1-10050r25"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::size_t</span>&nbsp;<span 
class="cmtt-10">n</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">3;</span>&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">Only</span>&nbsp;<span 
class="cmtt-10">for</span>&nbsp;<span 
class="cmtt-10">demontration</span>&nbsp;<span 
class="cmtt-10">purposes:</span>&nbsp;<span 
class="cmtt-10">this</span>&nbsp;<span 
class="cmtt-10">number</span>&nbsp;<span 
class="cmtt-10">is</span>&nbsp;<span 
class="cmtt-10">a</span>&nbsp;<span 
class="cmtt-10">little</span>
<a name="FancyVerbLine.27"></a>
<br class="fancyvrb"><a 
  name="x1-10052r26"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">bit</span>&nbsp;<span 
class="cmtt-10">small,</span>&nbsp;<span 
class="cmtt-10">linalg</span>&nbsp;<span 
class="cmtt-10">was</span>&nbsp;<span 
class="cmtt-10">designed</span>&nbsp;<span 
class="cmtt-10">for</span>&nbsp;<span 
class="cmtt-10">larger</span>&nbsp;<span 
class="cmtt-10">scales</span>
<a name="FancyVerbLine.28"></a>
<br class="fancyvrb"><a 
  name="x1-10054r27"></a>&nbsp;&nbsp;<a name="FancyVerbLine.29"></a>
<br class="fancyvrb"><a 
  name="x1-10056r28"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Matrix</span>&nbsp;<span 
class="cmtt-10">M1(n,</span>&nbsp;<span 
class="cmtt-10">n);</span>
<a name="FancyVerbLine.30"></a>
<br class="fancyvrb"><a 
  name="x1-10058r29"></a>&nbsp;&nbsp;<a name="FancyVerbLine.31"></a>
<br class="fancyvrb"><a 
  name="x1-10060r30"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">all</span>&nbsp;<span 
class="cmtt-10">possible</span>&nbsp;<span 
class="cmtt-10">ways</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">fill</span>&nbsp;<span 
class="cmtt-10">in</span>&nbsp;<span 
class="cmtt-10">some</span>&nbsp;<span 
class="cmtt-10">matrix</span>&nbsp;<span 
class="cmtt-10">data:</span>
<a name="FancyVerbLine.32"></a>
<br class="fancyvrb"><a 
  name="x1-10062r31"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">for</span>&nbsp;<span 
class="cmtt-10">(size_t</span>&nbsp;<span 
class="cmtt-10">i</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">1;</span>&nbsp;<span 
class="cmtt-10">i</span>&nbsp;<span 
class="cmtt-10">!=</span>&nbsp;<span 
class="cmtt-10">n+1;</span>&nbsp;<span 
class="cmtt-10">++i)</span>&nbsp;<span 
class="cmtt-10">M1(i,</span>&nbsp;<span 
class="cmtt-10">i)</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">42.0;</span>
<a name="FancyVerbLine.33"></a>
<br class="fancyvrb"><a 
  name="x1-10064r32"></a>&nbsp;&nbsp;<a name="FancyVerbLine.34"></a>
<br class="fancyvrb"><a 
  name="x1-10066r33"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">M1(1,</span>&nbsp;<span 
class="cmtt-10">2)</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">21.0;</span>
<a name="FancyVerbLine.35"></a>
<br class="fancyvrb"><a 
  name="x1-10068r34"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">M1.SetEntriesInRowTo(2,</span>&nbsp;<span 
class="cmtt-10">3.14);</span>
<a name="FancyVerbLine.36"></a>
<br class="fancyvrb"><a 
  name="x1-10070r35"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">M1.SetEntriesInColTo(3,</span>&nbsp;<span 
class="cmtt-10">42.5);</span>
<a name="FancyVerbLine.37"></a>
<br class="fancyvrb"><a 
  name="x1-10072r36"></a>&nbsp;&nbsp;<a name="FancyVerbLine.38"></a>
<br class="fancyvrb"><a 
  name="x1-10074r37"></a>&nbsp;&nbsp;<a name="FancyVerbLine.39"></a>
<br class="fancyvrb"><a 
  name="x1-10076r38"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Matrix</span>&nbsp;<span 
class="cmtt-10">M2</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">M1;</span>
<a name="FancyVerbLine.40"></a>
<br class="fancyvrb"><a 
  name="x1-10078r39"></a>&nbsp;&nbsp;<a name="FancyVerbLine.41"></a>
<br class="fancyvrb"><a 
  name="x1-10080r40"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Matrix</span>&nbsp;<span 
class="cmtt-10">M3(n,</span>&nbsp;<span 
class="cmtt-10">n);</span>
<a name="FancyVerbLine.42"></a>
<br class="fancyvrb"><a 
  name="x1-10082r41"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">M3</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">M1;</span>
<a name="FancyVerbLine.43"></a>
<br class="fancyvrb"><a 
  name="x1-10084r42"></a>&nbsp;&nbsp;<a name="FancyVerbLine.44"></a>
<br class="fancyvrb"><a 
  name="x1-10086r43"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">M1.ReplaceRow(2,</span>&nbsp;<span 
class="cmtt-10">M1(3));</span>
<a name="FancyVerbLine.45"></a>
<br class="fancyvrb"><a 
  name="x1-10088r44"></a>&nbsp;&nbsp;<a name="FancyVerbLine.46"></a>
<br class="fancyvrb"><a 
  name="x1-10090r45"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">M2</span>&nbsp;<span 
class="cmtt-10">+=</span>&nbsp;<span 
class="cmtt-10">M3;</span>
<a name="FancyVerbLine.47"></a>
<br class="fancyvrb"><a 
  name="x1-10092r46"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">M2.swap(M3);</span>
<a name="FancyVerbLine.48"></a>
<br class="fancyvrb"><a 
  name="x1-10094r47"></a>&nbsp;&nbsp;<a name="FancyVerbLine.49"></a>
<br class="fancyvrb"><a 
  name="x1-10096r48"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Matrix</span>&nbsp;<span 
class="cmtt-10">M4</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">M2</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">Lump(Transpose(M1));</span>
<a name="FancyVerbLine.50"></a>
<br class="fancyvrb"><a 
  name="x1-10098r49"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">M2</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">0.0;</span>
<a name="FancyVerbLine.51"></a>
<br class="fancyvrb"><a 
  name="x1-10100r50"></a>&nbsp;&nbsp;<a name="FancyVerbLine.52"></a>
<br class="fancyvrb"><a 
  name="x1-10102r51"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Matrix</span>&nbsp;<span 
class="cmtt-10">M5(n,</span>&nbsp;<span 
class="cmtt-10">n);</span>
<a name="FancyVerbLine.53"></a>
<br class="fancyvrb"><a 
  name="x1-10104r52"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">M5</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">M2</span>&nbsp;<span 
class="cmtt-10">-</span>&nbsp;<span 
class="cmtt-10">M3</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">M1;</span>
<a name="FancyVerbLine.54"></a>
<br class="fancyvrb"><a 
  name="x1-10106r53"></a>&nbsp;&nbsp;<a name="FancyVerbLine.55"></a>
                                                                                      
                                                                                      
<br class="fancyvrb"><a 
  name="x1-10108r54"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Vector</span>&nbsp;<span 
class="cmtt-10">V1(n);</span>
<a name="FancyVerbLine.56"></a>
<br class="fancyvrb"><a 
  name="x1-10110r55"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::fill(V1.begin(),</span>&nbsp;<span 
class="cmtt-10">V1.end(),</span>&nbsp;<span 
class="cmtt-10">1.0);</span>
<a name="FancyVerbLine.57"></a>
<br class="fancyvrb"><a 
  name="x1-10112r56"></a>&nbsp;&nbsp;<a name="FancyVerbLine.58"></a>
<br class="fancyvrb"><a 
  name="x1-10114r57"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Vector</span>&nbsp;<span 
class="cmtt-10">V2</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">(2.0</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">M2</span>&nbsp;<span 
class="cmtt-10">-</span>&nbsp;<span 
class="cmtt-10">Lump(M1))</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">V1;</span>
<a name="FancyVerbLine.59"></a>
<br class="fancyvrb"><a 
  name="x1-10116r58"></a>&nbsp;&nbsp;<a name="FancyVerbLine.60"></a>
<br class="fancyvrb"><a 
  name="x1-10118r59"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cerr</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">M1</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">M2</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">M3</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">M4</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">M5</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">V1</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">V2</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">std::endl;</span>
<br class="fancyvrb"><a 
  name="x1-10120r60"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
</div>
<a name="subsection.3.3"></a>
<h4 class="subsectionHead"><span class="titlemark">3.3</span> <a 
  name="x1-110003.3"></a>A Sparse Matrix of Fixed-Sized Matrices</h4>
<!--l. 79--><p class="noindent">Of course you can have a sparse matrix of fixed-sized matrices. That is easy enough to achieve:
<div class="fancyvrb" id="fancyvrb5"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-11002r1"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">TinyMat::TinyQuadraticMatrix&lt;double,</span>&nbsp;<span 
class="cmtt-10">3&gt;</span>&nbsp;<span 
class="cmtt-10">BlockMatrix;</span>
<a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-11004r2"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">Linalg::Matrix&lt;BlockMatrix&gt;</span>&nbsp;<span 
class="cmtt-10">Matrix;</span>
<a name="FancyVerbLine.4"></a>
<br class="fancyvrb"><a 
  name="x1-11006r3"></a>&nbsp;&nbsp;<a name="FancyVerbLine.5"></a>
<br class="fancyvrb"><a 
  name="x1-11008r4"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">TinyVec::TinyVector&lt;double,</span>&nbsp;<span 
class="cmtt-10">3&gt;</span>&nbsp;<span 
class="cmtt-10">BlockVector;</span>
<br class="fancyvrb"><a 
  name="x1-11010r5"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">Linalg::Vector&lt;BlockVector&gt;</span>&nbsp;<span 
class="cmtt-10">Vector;</span>
</div>
<!--l. 90--><p class="noindent">You can find complete examples in <span 
class="cmtt-10--109">src/demos/linalg/TestBlockedMatAndVec.C</span>
<span 
class="cmtt-10--109">src/demos/linalg/TestPrintingOfBlockedMatrix.C</span>
<a name="subsection.3.4"></a>
<h4 class="subsectionHead"><span class="titlemark">3.4</span> <a 
  name="x1-120003.4"></a>Using the Core Engine (Building Expression Templates at Home)</h4>
<a name="subsubsection.3.4.1"></a>
<h5 class="subsubsectionHead"><span class="titlemark">3.4.1 </span> <a 
  name="x1-130003.4.1"></a>Delaying Evaluation</h5>
<!--l. 105--><p class="noindent"><span 
class="cmssbx-10--109">Daixtrose </span>was designed to provide a convenient way to apply Expression Template techniques to any kind
of C++ classes without the need to modify any line of code of these classes. As an example consider you
have written a very elaborated high performance <span 
class="cmtt-10--109">class X</span>. The only things missing are the operators and
other code which would allow objects of type <span 
class="cmtt-10--109">X</span> to be used within expressions. No problem for us, we have
<span 
class="cmssbx-10--109">Daixtrose</span>:
<div class="fancyvrb" id="fancyvrb6"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-13002r1"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;daixtrose/Daixt.h&#34;</span>
<a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-13004r2"></a>&nbsp;&nbsp;<a name="FancyVerbLine.4"></a>
<br class="fancyvrb"><a 
  name="x1-13006r3"></a>&nbsp;&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">X</span>&nbsp;<span 
class="cmtt-10">{};</span>
<a name="FancyVerbLine.5"></a>
<br class="fancyvrb"><a 
  name="x1-13008r4"></a>&nbsp;&nbsp;<a name="FancyVerbLine.6"></a>
<br class="fancyvrb"><a 
  name="x1-13010r5"></a>&nbsp;&nbsp;<a name="FancyVerbLine.7"></a>
<br class="fancyvrb"><a 
  name="x1-13012r6"></a>&nbsp;&nbsp;<span 
class="cmtt-10">int</span>&nbsp;<span 
class="cmtt-10">main()</span>
<a name="FancyVerbLine.8"></a>
<br class="fancyvrb"><a 
  name="x1-13014r7"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.9"></a>
<br class="fancyvrb"><a 
  name="x1-13016r8"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">X</span>&nbsp;<span 
class="cmtt-10">x1,</span>&nbsp;<span 
class="cmtt-10">x2,</span>&nbsp;<span 
class="cmtt-10">x3;</span>
<a name="FancyVerbLine.10"></a>
                                                                                      
                                                                                      
<br class="fancyvrb"><a 
  name="x1-13018r9"></a>&nbsp;&nbsp;<a name="FancyVerbLine.11"></a>
<br class="fancyvrb"><a 
  name="x1-13020r10"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps;</span>
<a name="FancyVerbLine.12"></a>
<br class="fancyvrb"><a 
  name="x1-13022r11"></a>&nbsp;&nbsp;<a name="FancyVerbLine.13"></a>
<br class="fancyvrb"><a 
  name="x1-13024r12"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">(</span>
<a name="FancyVerbLine.14"></a>
<br class="fancyvrb"><a 
  name="x1-13026r13"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">(x1</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">x2)</span>
<a name="FancyVerbLine.15"></a>
<br class="fancyvrb"><a 
  name="x1-13028r14"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">*</span><a name="FancyVerbLine.16"></a>
<br class="fancyvrb"><a 
  name="x1-13030r15"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">RationalPow&lt;4,</span>&nbsp;<span 
class="cmtt-10">3&gt;(x3)</span>&nbsp;<span 
class="cmtt-10">/</span>&nbsp;<span 
class="cmtt-10">Pow&lt;2&gt;(x2)</span>
<a name="FancyVerbLine.17"></a>
<br class="fancyvrb"><a 
  name="x1-13032r16"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">)</span>
<a name="FancyVerbLine.18"></a>
<br class="fancyvrb"><a 
  name="x1-13034r17"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">/</span>
<a name="FancyVerbLine.19"></a>
<br class="fancyvrb"><a 
  name="x1-13036r18"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">((-x1)</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">x3);</span>
<br class="fancyvrb"><a 
  name="x1-13038r19"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
</div>
<!--l. 114--><p class="noindent">Congratulations! You have combined the power of <span 
class="cmtt-10--109">class X</span> with the invaluable features of <span 
class="cmssbx-10--109">Daixtrose</span>.
This code already compiles. Of course there is some lack of functionality, but we fix that in a
minute.
<!--l. 118--><p class="noindent">What is important here is that with the help of <span 
class="cmtt-10--109">namespace Daixt::DefaultOps</span> any
expression gets mapped unto an Expression Template tree. E.g. the expression above results
in contructor calls for <span 
class="cmtt-10--109">Expr&lt;T&gt;</span>, <span 
class="cmtt-10--109">BinOp&lt;...&gt;</span> and <span 
class="cmtt-10--109">UnOp&lt;...&gt;</span> and yields an object of
type<a 
href="#Hfootnote.1" ><a 
href="main2.html" name="main2.html" ><sup>1</sup></a></a>
(big breath)
<div class="fancyvrb" id="fancyvrb7"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-13041r1"></a>&nbsp;&nbsp;<span 
class="cmtt-10">Expr&lt;</span>
<a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-13043r2"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">BinOp&lt;</span>
<a name="FancyVerbLine.4"></a>
<br class="fancyvrb"><a 
  name="x1-13045r3"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">BinOp&lt;</span>
<a name="FancyVerbLine.5"></a>
<br class="fancyvrb"><a 
  name="x1-13047r4"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">BinOp&lt;</span>
<a name="FancyVerbLine.6"></a>
<br class="fancyvrb"><a 
  name="x1-13049r5"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">BinOp&lt;X,</span>&nbsp;<span 
class="cmtt-10">X,</span>&nbsp;<span 
class="cmtt-10">BinaryPlus&gt;,</span>
<a name="FancyVerbLine.7"></a>
<br class="fancyvrb"><a 
  name="x1-13051r6"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">UnOp&lt;X,</span>&nbsp;<span 
class="cmtt-10">RationalPower&lt;4,</span>&nbsp;<span 
class="cmtt-10">3&gt;</span>&nbsp;<span 
class="cmtt-10">&gt;,</span>
<a name="FancyVerbLine.8"></a>
<br class="fancyvrb"><a 
  name="x1-13053r7"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">BinaryMultiply</span>
<a name="FancyVerbLine.9"></a>
<br class="fancyvrb"><a 
  name="x1-13055r8"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">&gt;,</span>
<a name="FancyVerbLine.10"></a>
<br class="fancyvrb"><a 
  name="x1-13057r9"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">UnOp&lt;</span>
<a name="FancyVerbLine.11"></a>
<br class="fancyvrb"><a 
  name="x1-13059r10"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">X,</span>
<a name="FancyVerbLine.12"></a>
<br class="fancyvrb"><a 
  name="x1-13061r11"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">RationalPower&lt;2,</span>&nbsp;<span 
class="cmtt-10">1&gt;</span>
<a name="FancyVerbLine.13"></a>
<br class="fancyvrb"><a 
  name="x1-13063r12"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">&gt;,</span>
<a name="FancyVerbLine.14"></a>
<br class="fancyvrb"><a 
  name="x1-13065r13"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">BinaryDivide</span>
<a name="FancyVerbLine.15"></a>
<br class="fancyvrb"><a 
  name="x1-13067r14"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">&gt;,</span>
<a name="FancyVerbLine.16"></a>
<br class="fancyvrb"><a 
  name="x1-13069r15"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">BinOp&lt;</span>
<a name="FancyVerbLine.17"></a>
<br class="fancyvrb"><a 
  name="x1-13071r16"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">UnOp&lt;X,</span>&nbsp;<span 
class="cmtt-10">UnaryMinus&gt;,</span>
<a name="FancyVerbLine.18"></a>
<br class="fancyvrb"><a 
  name="x1-13073r17"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">X,</span>
<a name="FancyVerbLine.19"></a>
<br class="fancyvrb"><a 
  name="x1-13075r18"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">BinaryMultiply</span>
<a name="FancyVerbLine.20"></a>
<br class="fancyvrb"><a 
  name="x1-13077r19"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">&gt;,</span>
<a name="FancyVerbLine.21"></a>
<br class="fancyvrb"><a 
  name="x1-13079r20"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">BinaryDivide</span>
<a name="FancyVerbLine.22"></a>
<br class="fancyvrb"><a 
  name="x1-13081r21"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">&gt;</span>
                                                                                      
                                                                                      
<br class="fancyvrb"><a 
  name="x1-13083r22"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">&gt;</span>
</div>
<!--l. 152--><p class="noindent">This is what <span 
class="cmssbx-10--109">Daixtrose </span>offers. Users (or library authors) do not have to retake the tedious task of
reinventing yet another Expression Template machinery but can rely on the <span 
class="cmssbx-10--109">Daixtrose </span>Expression Template
core engine.
<!--l. 156--><p class="noindent">Expression Templates avoid temporaries through delayed evaluation. The first step of a delayed evaluation,
namely the delaying, has already been taken in the code above. Now it is up to the user to perform the
evaluation.
<a name="subsubsection.3.4.2"></a>
<h5 class="subsubsectionHead"><span class="titlemark">3.4.2 </span> <a 
  name="x1-140003.4.2"></a>Expression Evaluation</h5>
<!--l. 162--><p class="noindent">Evaluation can be achieved with a set of template functions (or a functor with an overload set of template
member functions alias <span 
class="cmtt-10--109">operator()</span>. These functions can rely on the public interfaces of the <span 
class="cmssbx-10--109">Daixtrose</span>
classes, especially on the member functions
<div class="fancyvrb" id="fancyvrb8"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-14002r1"></a>&nbsp;&nbsp;<span 
class="cmtt-10">Expr&lt;T&gt;::content()</span>
<a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-14004r2"></a>&nbsp;&nbsp;<span 
class="cmtt-10">BinOp&lt;...&gt;::lhs()</span>
<a name="FancyVerbLine.4"></a>
<br class="fancyvrb"><a 
  name="x1-14006r3"></a>&nbsp;&nbsp;<span 
class="cmtt-10">BinOp&lt;...&gt;::rhs()</span>
<br class="fancyvrb"><a 
  name="x1-14008r4"></a>&nbsp;&nbsp;<span 
class="cmtt-10">UnOp&lt;...&gt;::arg()</span>
</div>
<!--l. 175--><p class="noindent">To illustrate this, let us extend the example above:
<div class="fancyvrb" id="fancyvrb9"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-14010r1"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;daixtrose/Daixt.h&#34;</span>
<a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-14012r2"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&lt;iostream&gt;</span><a name="FancyVerbLine.4"></a>
<br class="fancyvrb"><a 
  name="x1-14014r3"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&lt;string&gt;</span>
<a name="FancyVerbLine.5"></a>
<br class="fancyvrb"><a 
  name="x1-14016r4"></a>&nbsp;&nbsp;<a name="FancyVerbLine.6"></a>
<br class="fancyvrb"><a 
  name="x1-14018r5"></a>&nbsp;&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">X</span><a name="FancyVerbLine.7"></a>
<br class="fancyvrb"><a 
  name="x1-14020r6"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.8"></a>
<br class="fancyvrb"><a 
  name="x1-14022r7"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::string</span>&nbsp;<span 
class="cmtt-10">Name_;</span>
<a name="FancyVerbLine.9"></a>
<br class="fancyvrb"><a 
  name="x1-14024r8"></a>&nbsp;&nbsp;<span 
class="cmtt-10">public:</span>
<a name="FancyVerbLine.10"></a>
<br class="fancyvrb"><a 
  name="x1-14026r9"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">X(const</span>&nbsp;<span 
class="cmtt-10">std::string&amp;</span>&nbsp;<span 
class="cmtt-10">Name)</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">Name_(Name)</span>&nbsp;<span 
class="cmtt-10">{}</span>
<a name="FancyVerbLine.11"></a>
<br class="fancyvrb"><a 
  name="x1-14028r10"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::string</span>&nbsp;<span 
class="cmtt-10">Name()</span>&nbsp;<span 
class="cmtt-10">const</span>&nbsp;<span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">Name_;</span>&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.12"></a>
<br class="fancyvrb"><a 
  name="x1-14030r11"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.13"></a>
<br class="fancyvrb"><a 
  name="x1-14032r12"></a>&nbsp;&nbsp;<a name="FancyVerbLine.14"></a>
<br class="fancyvrb"><a 
  name="x1-14034r13"></a>&nbsp;&nbsp;<span 
class="cmtt-10">std::ostream&amp;</span>&nbsp;<span 
class="cmtt-10">operator&lt;&lt;(std::ostream&amp;</span>&nbsp;<span 
class="cmtt-10">os,</span>&nbsp;<span 
class="cmtt-10">const</span>&nbsp;<span 
class="cmtt-10">X&amp;</span>&nbsp;<span 
class="cmtt-10">x)</span>
<a name="FancyVerbLine.15"></a>
<br class="fancyvrb"><a 
  name="x1-14036r14"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.16"></a>
<br class="fancyvrb"><a 
  name="x1-14038r15"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">os</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">x.Name();</span>
<a name="FancyVerbLine.17"></a>
<br class="fancyvrb"><a 
  name="x1-14040r16"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">os;</span>
<a name="FancyVerbLine.18"></a>
<br class="fancyvrb"><a 
  name="x1-14042r17"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.19"></a>
<br class="fancyvrb"><a 
  name="x1-14044r18"></a>&nbsp;&nbsp;<a name="FancyVerbLine.20"></a>
<br class="fancyvrb"><a 
  name="x1-14046r19"></a>&nbsp;&nbsp;<a name="FancyVerbLine.21"></a>
<br class="fancyvrb"><a 
  name="x1-14048r20"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>
<a name="FancyVerbLine.22"></a>
                                                                                      
                                                                                      
<br class="fancyvrb"><a 
  name="x1-14050r21"></a>&nbsp;&nbsp;<span 
class="cmtt-10">void</span>&nbsp;<span 
class="cmtt-10">Evaluate(const</span>&nbsp;<span 
class="cmtt-10">Daixt::Expr&lt;T&gt;&amp;</span>&nbsp;<span 
class="cmtt-10">arg)</span>
<a name="FancyVerbLine.23"></a>
<br class="fancyvrb"><a 
  name="x1-14052r22"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.24"></a>
<br class="fancyvrb"><a 
  name="x1-14054r23"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Evaluate(arg.content());</span>
<a name="FancyVerbLine.25"></a>
<br class="fancyvrb"><a 
  name="x1-14056r24"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.26"></a>
<br class="fancyvrb"><a 
  name="x1-14058r25"></a>&nbsp;&nbsp;<a name="FancyVerbLine.27"></a>
<br class="fancyvrb"><a 
  name="x1-14060r26"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">LHS,</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">RHS,</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">OP&gt;</span>
<a name="FancyVerbLine.28"></a>
<br class="fancyvrb"><a 
  name="x1-14062r27"></a>&nbsp;&nbsp;<span 
class="cmtt-10">void</span>&nbsp;<span 
class="cmtt-10">Evaluate(const</span>&nbsp;<span 
class="cmtt-10">Daixt::BinOp&lt;LHS,</span>&nbsp;<span 
class="cmtt-10">RHS,</span>&nbsp;<span 
class="cmtt-10">OP&gt;&amp;</span>&nbsp;<span 
class="cmtt-10">arg)</span>
<a name="FancyVerbLine.29"></a>
<br class="fancyvrb"><a 
  name="x1-14064r28"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.30"></a>
<br class="fancyvrb"><a 
  name="x1-14066r29"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Evaluate(arg.lhs());</span>
<a name="FancyVerbLine.31"></a>
<br class="fancyvrb"><a 
  name="x1-14068r30"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cerr</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">OP::Symbol();</span>
<a name="FancyVerbLine.32"></a>
<br class="fancyvrb"><a 
  name="x1-14070r31"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Evaluate(arg.rhs());</span>
<a name="FancyVerbLine.33"></a>
<br class="fancyvrb"><a 
  name="x1-14072r32"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.34"></a>
<br class="fancyvrb"><a 
  name="x1-14074r33"></a>&nbsp;&nbsp;<a name="FancyVerbLine.35"></a>
<br class="fancyvrb"><a 
  name="x1-14076r34"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">ARG,</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">OP&gt;</span>
<a name="FancyVerbLine.36"></a>
<br class="fancyvrb"><a 
  name="x1-14078r35"></a>&nbsp;&nbsp;<span 
class="cmtt-10">void</span>&nbsp;<span 
class="cmtt-10">Evaluate(const</span>&nbsp;<span 
class="cmtt-10">Daixt::UnOp&lt;ARG,</span>&nbsp;<span 
class="cmtt-10">OP&gt;&amp;</span>&nbsp;<span 
class="cmtt-10">arg)</span>
<a name="FancyVerbLine.37"></a>
<br class="fancyvrb"><a 
  name="x1-14080r36"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.38"></a>
<br class="fancyvrb"><a 
  name="x1-14082r37"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cerr</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">OP::Symbol();</span>
<a name="FancyVerbLine.39"></a>
<br class="fancyvrb"><a 
  name="x1-14084r38"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Evaluate(arg.arg());</span>
<a name="FancyVerbLine.40"></a>
<br class="fancyvrb"><a 
  name="x1-14086r39"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.41"></a>
<br class="fancyvrb"><a 
  name="x1-14088r40"></a>&nbsp;&nbsp;<a name="FancyVerbLine.42"></a>
<br class="fancyvrb"><a 
  name="x1-14090r41"></a>&nbsp;&nbsp;<span 
class="cmtt-10">void</span>&nbsp;<span 
class="cmtt-10">Evaluate(const</span>&nbsp;<span 
class="cmtt-10">X&amp;</span>&nbsp;<span 
class="cmtt-10">x)</span>
<a name="FancyVerbLine.43"></a>
<br class="fancyvrb"><a 
  name="x1-14092r42"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.44"></a>
<br class="fancyvrb"><a 
  name="x1-14094r43"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cerr</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">x;</span>
<a name="FancyVerbLine.45"></a>
<br class="fancyvrb"><a 
  name="x1-14096r44"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.46"></a>
<br class="fancyvrb"><a 
  name="x1-14098r45"></a>&nbsp;&nbsp;<a name="FancyVerbLine.47"></a>
<br class="fancyvrb"><a 
  name="x1-14100r46"></a>&nbsp;&nbsp;<span 
class="cmtt-10">int</span>&nbsp;<span 
class="cmtt-10">main()</span>
<a name="FancyVerbLine.48"></a>
<br class="fancyvrb"><a 
  name="x1-14102r47"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.49"></a>
<br class="fancyvrb"><a 
  name="x1-14104r48"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">X</span>&nbsp;<span 
class="cmtt-10">x1(&#34;x1&#34;),</span>&nbsp;<span 
class="cmtt-10">x2(&#34;x2&#34;),</span>&nbsp;<span 
class="cmtt-10">x3(&#34;x3&#34;);</span>
<a name="FancyVerbLine.50"></a>
<br class="fancyvrb"><a 
  name="x1-14106r49"></a>&nbsp;&nbsp;<a name="FancyVerbLine.51"></a>
<br class="fancyvrb"><a 
  name="x1-14108r50"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps;</span>
<a name="FancyVerbLine.52"></a>
<br class="fancyvrb"><a 
  name="x1-14110r51"></a>&nbsp;&nbsp;<a name="FancyVerbLine.53"></a>
<br class="fancyvrb"><a 
  name="x1-14112r52"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Evaluate((x1</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">x2)</span>&nbsp;<span 
class="cmtt-10">/</span>&nbsp;<span 
class="cmtt-10">((-x1)</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">x3));</span>
<br class="fancyvrb"><a 
  name="x1-14114r53"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
</div>
<a name="subsubsection.3.4.3"></a>
<h5 class="subsubsectionHead"><span class="titlemark">3.4.3 </span> <a 
  name="x1-150003.4.3"></a>Assignment from an Expression</h5>
<!--l. 182--><p class="noindent">In a similar manner assignment can be achieved by reusing existent public interfaces. Consider a case where
<span 
class="cmtt-10--109">class X</span> has a public member function that allows resetting some internal value. Here we show an example
where no temporary object of type <span 
class="cmtt-10--109">X</span> is created, but only temporray objects of the contained data type are
created. Applying this technique to classes which contain large data sets like e.g. sparse matrices is the key
to runtime efficiency.
<div class="fancyvrb" id="fancyvrb10"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-15002r1"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;daixtrose/Daixt.h&#34;</span>
<a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-15004r2"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&lt;iostream&gt;</span><a name="FancyVerbLine.4"></a>
<br class="fancyvrb"><a 
  name="x1-15006r3"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&lt;string&gt;</span>
<a name="FancyVerbLine.5"></a>
<br class="fancyvrb"><a 
  name="x1-15008r4"></a>&nbsp;&nbsp;<a name="FancyVerbLine.6"></a>
<br class="fancyvrb"><a 
  name="x1-15010r5"></a>&nbsp;&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">X</span><a name="FancyVerbLine.7"></a>
                                                                                      
                                                                                      
<br class="fancyvrb"><a 
  name="x1-15012r6"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.8"></a>
<br class="fancyvrb"><a 
  name="x1-15014r7"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::string</span>&nbsp;<span 
class="cmtt-10">Name_;</span>
<a name="FancyVerbLine.9"></a>
<br class="fancyvrb"><a 
  name="x1-15016r8"></a>&nbsp;&nbsp;<span 
class="cmtt-10">public:</span>
<a name="FancyVerbLine.10"></a>
<br class="fancyvrb"><a 
  name="x1-15018r9"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">X(const</span>&nbsp;<span 
class="cmtt-10">std::string&amp;</span>&nbsp;<span 
class="cmtt-10">Name)</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">Name_(Name)</span>&nbsp;<span 
class="cmtt-10">{}</span>
<a name="FancyVerbLine.11"></a>
<br class="fancyvrb"><a 
  name="x1-15020r10"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::string</span>&nbsp;<span 
class="cmtt-10">Name()</span>&nbsp;<span 
class="cmtt-10">const</span>&nbsp;<span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">Name_;</span>&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.12"></a>
<br class="fancyvrb"><a 
  name="x1-15022r11"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">void</span>&nbsp;<span 
class="cmtt-10">ResetName(const</span>&nbsp;<span 
class="cmtt-10">std::string&amp;</span>&nbsp;<span 
class="cmtt-10">NewName)</span>
<a name="FancyVerbLine.13"></a>
<br class="fancyvrb"><a 
  name="x1-15024r12"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.14"></a>
<br class="fancyvrb"><a 
  name="x1-15026r13"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Name_</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">NewName;</span>
<a name="FancyVerbLine.15"></a>
<br class="fancyvrb"><a 
  name="x1-15028r14"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.16"></a>
<br class="fancyvrb"><a 
  name="x1-15030r15"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.17"></a>
<br class="fancyvrb"><a 
  name="x1-15032r16"></a>&nbsp;&nbsp;<a name="FancyVerbLine.18"></a>
<br class="fancyvrb"><a 
  name="x1-15034r17"></a>&nbsp;&nbsp;<span 
class="cmtt-10">std::ostream&amp;</span>&nbsp;<span 
class="cmtt-10">operator&lt;&lt;(std::ostream&amp;</span>&nbsp;<span 
class="cmtt-10">os,</span>&nbsp;<span 
class="cmtt-10">const</span>&nbsp;<span 
class="cmtt-10">X&amp;</span>&nbsp;<span 
class="cmtt-10">x)</span>
<a name="FancyVerbLine.19"></a>
<br class="fancyvrb"><a 
  name="x1-15036r18"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.20"></a>
<br class="fancyvrb"><a 
  name="x1-15038r19"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">os</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">x.Name();</span>
<a name="FancyVerbLine.21"></a>
<br class="fancyvrb"><a 
  name="x1-15040r20"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">os;</span>
<a name="FancyVerbLine.22"></a>
<br class="fancyvrb"><a 
  name="x1-15042r21"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.23"></a>
<br class="fancyvrb"><a 
  name="x1-15044r22"></a>&nbsp;&nbsp;<a name="FancyVerbLine.24"></a>
<br class="fancyvrb"><a 
  name="x1-15046r23"></a>&nbsp;&nbsp;<a name="FancyVerbLine.25"></a>
<br class="fancyvrb"><a 
  name="x1-15048r24"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>
<a name="FancyVerbLine.26"></a>
<br class="fancyvrb"><a 
  name="x1-15050r25"></a>&nbsp;&nbsp;<span 
class="cmtt-10">std::string</span>&nbsp;<span 
class="cmtt-10">Evaluate(const</span>&nbsp;<span 
class="cmtt-10">Daixt::Expr&lt;T&gt;&amp;</span>&nbsp;<span 
class="cmtt-10">arg)</span>
<a name="FancyVerbLine.27"></a>
<br class="fancyvrb"><a 
  name="x1-15052r26"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.28"></a>
<br class="fancyvrb"><a 
  name="x1-15054r27"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">Evaluate(arg.content());</span>
<a name="FancyVerbLine.29"></a>
<br class="fancyvrb"><a 
  name="x1-15056r28"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.30"></a>
<br class="fancyvrb"><a 
  name="x1-15058r29"></a>&nbsp;&nbsp;<a name="FancyVerbLine.31"></a>
<br class="fancyvrb"><a 
  name="x1-15060r30"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">LHS,</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">RHS,</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">OP&gt;</span>
<a name="FancyVerbLine.32"></a>
<br class="fancyvrb"><a 
  name="x1-15062r31"></a>&nbsp;&nbsp;<span 
class="cmtt-10">std::string</span>&nbsp;<span 
class="cmtt-10">Evaluate(const</span>&nbsp;<span 
class="cmtt-10">Daixt::BinOp&lt;LHS,</span>&nbsp;<span 
class="cmtt-10">RHS,</span>&nbsp;<span 
class="cmtt-10">OP&gt;&amp;</span>&nbsp;<span 
class="cmtt-10">arg)</span>
<a name="FancyVerbLine.33"></a>
<br class="fancyvrb"><a 
  name="x1-15064r32"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.34"></a>
<br class="fancyvrb"><a 
  name="x1-15066r33"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span><a name="FancyVerbLine.35"></a>
<br class="fancyvrb"><a 
  name="x1-15068r34"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Evaluate(arg.lhs())</span>
<a name="FancyVerbLine.36"></a>
<br class="fancyvrb"><a 
  name="x1-15070r35"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">&#34;</span>&nbsp;<span 
class="cmtt-10">&#34;</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">OP::Symbol()</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">&#34;</span>&nbsp;<span 
class="cmtt-10">&#34;</span>
<a name="FancyVerbLine.37"></a>
<br class="fancyvrb"><a 
  name="x1-15072r36"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">Evaluate(arg.rhs());</span>
<a name="FancyVerbLine.38"></a>
<br class="fancyvrb"><a 
  name="x1-15074r37"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.39"></a>
<br class="fancyvrb"><a 
  name="x1-15076r38"></a>&nbsp;&nbsp;<a name="FancyVerbLine.40"></a>
<br class="fancyvrb"><a 
  name="x1-15078r39"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">ARG,</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">OP&gt;</span>
<a name="FancyVerbLine.41"></a>
<br class="fancyvrb"><a 
  name="x1-15080r40"></a>&nbsp;&nbsp;<span 
class="cmtt-10">std::string</span>&nbsp;<span 
class="cmtt-10">Evaluate(const</span>&nbsp;<span 
class="cmtt-10">Daixt::UnOp&lt;ARG,</span>&nbsp;<span 
class="cmtt-10">OP&gt;&amp;</span>&nbsp;<span 
class="cmtt-10">arg)</span>
<a name="FancyVerbLine.42"></a>
<br class="fancyvrb"><a 
  name="x1-15082r41"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.43"></a>
<br class="fancyvrb"><a 
  name="x1-15084r42"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">OP::Symbol()</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">Evaluate(arg.arg());</span>
<a name="FancyVerbLine.44"></a>
<br class="fancyvrb"><a 
  name="x1-15086r43"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.45"></a>
<br class="fancyvrb"><a 
  name="x1-15088r44"></a>&nbsp;&nbsp;<a name="FancyVerbLine.46"></a>
<br class="fancyvrb"><a 
  name="x1-15090r45"></a>&nbsp;&nbsp;<span 
class="cmtt-10">std::string</span>&nbsp;<span 
class="cmtt-10">Evaluate(const</span>&nbsp;<span 
class="cmtt-10">X&amp;</span>&nbsp;<span 
class="cmtt-10">x)</span>
<a name="FancyVerbLine.47"></a>
<br class="fancyvrb"><a 
  name="x1-15092r46"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.48"></a>
<br class="fancyvrb"><a 
  name="x1-15094r47"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">x.Name();</span>
<a name="FancyVerbLine.49"></a>
<br class="fancyvrb"><a 
  name="x1-15096r48"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.50"></a>
<br class="fancyvrb"><a 
  name="x1-15098r49"></a>&nbsp;&nbsp;<a name="FancyVerbLine.51"></a>
<br class="fancyvrb"><a 
  name="x1-15100r50"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">operator=</span>&nbsp;<span 
class="cmtt-10">must</span>&nbsp;<span 
class="cmtt-10">be</span>&nbsp;<span 
class="cmtt-10">a</span>&nbsp;<span 
class="cmtt-10">member</span>&nbsp;<span 
class="cmtt-10">function,</span>
<a name="FancyVerbLine.52"></a>
<br class="fancyvrb"><a 
  name="x1-15102r51"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">but</span>&nbsp;<span 
class="cmtt-10">maybe</span>&nbsp;<span 
class="cmtt-10">we</span>&nbsp;<span 
class="cmtt-10">cannot</span>&nbsp;<span 
class="cmtt-10">or</span>&nbsp;<span 
class="cmtt-10">do</span>&nbsp;<span 
class="cmtt-10">not</span>&nbsp;<span 
class="cmtt-10">want</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">modify</span>&nbsp;<span 
class="cmtt-10">X,</span>
<a name="FancyVerbLine.53"></a>
<br class="fancyvrb"><a 
  name="x1-15104r52"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">so</span>&nbsp;<span 
class="cmtt-10">we</span>&nbsp;<span 
class="cmtt-10">use</span>&nbsp;<span 
class="cmtt-10">operator%=</span>&nbsp;<span 
class="cmtt-10">here</span>
<a name="FancyVerbLine.54"></a>
<br class="fancyvrb"><a 
  name="x1-15106r53"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template&lt;class</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>
<a name="FancyVerbLine.55"></a>
<br class="fancyvrb"><a 
  name="x1-15108r54"></a>&nbsp;&nbsp;<span 
class="cmtt-10">X&amp;</span>&nbsp;<span 
class="cmtt-10">operator%=(X&amp;</span>&nbsp;<span 
class="cmtt-10">x,</span>&nbsp;<span 
class="cmtt-10">const</span>&nbsp;<span 
class="cmtt-10">Daixt::Expr&lt;T&gt;&amp;</span>&nbsp;<span 
class="cmtt-10">E)</span>
<a name="FancyVerbLine.56"></a>
<br class="fancyvrb"><a 
  name="x1-15110r55"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.57"></a>
<br class="fancyvrb"><a 
  name="x1-15112r56"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">x.ResetName(Evaluate(E));</span>
<a name="FancyVerbLine.58"></a>
<br class="fancyvrb"><a 
  name="x1-15114r57"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">x;</span>
<a name="FancyVerbLine.59"></a>
<br class="fancyvrb"><a 
  name="x1-15116r58"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.60"></a>
<br class="fancyvrb"><a 
  name="x1-15118r59"></a>&nbsp;&nbsp;<a name="FancyVerbLine.61"></a>
                                                                                      
                                                                                      
<br class="fancyvrb"><a 
  name="x1-15120r60"></a>&nbsp;&nbsp;<span 
class="cmtt-10">int</span>&nbsp;<span 
class="cmtt-10">main()</span>
<a name="FancyVerbLine.62"></a>
<br class="fancyvrb"><a 
  name="x1-15122r61"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.63"></a>
<br class="fancyvrb"><a 
  name="x1-15124r62"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">X</span>&nbsp;<span 
class="cmtt-10">x1(&#34;x1&#34;),</span>&nbsp;<span 
class="cmtt-10">x2(&#34;x2&#34;),</span>&nbsp;<span 
class="cmtt-10">x3(&#34;x3&#34;);</span>
<a name="FancyVerbLine.64"></a>
<br class="fancyvrb"><a 
  name="x1-15126r63"></a>&nbsp;&nbsp;<a name="FancyVerbLine.65"></a>
<br class="fancyvrb"><a 
  name="x1-15128r64"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps;</span>
<a name="FancyVerbLine.66"></a>
<br class="fancyvrb"><a 
  name="x1-15130r65"></a>&nbsp;&nbsp;<a name="FancyVerbLine.67"></a>
<br class="fancyvrb"><a 
  name="x1-15132r66"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">X</span>&nbsp;<span 
class="cmtt-10">x4(&#34;x4&#34;);</span>
<a name="FancyVerbLine.68"></a>
<br class="fancyvrb"><a 
  name="x1-15134r67"></a>&nbsp;&nbsp;<a name="FancyVerbLine.69"></a>
<br class="fancyvrb"><a 
  name="x1-15136r68"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cerr</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">x4</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">&#34;</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">&#34;;</span>
<a name="FancyVerbLine.70"></a>
<br class="fancyvrb"><a 
  name="x1-15138r69"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">x4</span>&nbsp;<span 
class="cmtt-10">%=</span>&nbsp;<span 
class="cmtt-10">((x1</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">x2)</span>&nbsp;<span 
class="cmtt-10">/</span>&nbsp;<span 
class="cmtt-10">((-x1)</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">x3));</span>
<a name="FancyVerbLine.71"></a>
<br class="fancyvrb"><a 
  name="x1-15140r70"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cerr</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">x4;</span>
<br class="fancyvrb"><a 
  name="x1-15142r71"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
</div>
<!--l. 194--><p class="noindent">Note that in the example shown here assignment from an expression can be performed without modifying
<span 
class="cmtt-10--109">class X</span>, but of course adding an appropriate <span 
class="cmtt-10--109">operator=</span> to <span 
class="cmtt-10--109">class X</span> is the way of choice in cases where
<span 
class="cmtt-10--109">class X</span> was designed to rely on <span 
class="cmssbx-10--109">Daixtrose</span>:
<div class="fancyvrb" id="fancyvrb11"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-15144r1"></a>&nbsp;&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">X</span><a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-15146r2"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.4"></a>
<br class="fancyvrb"><a 
  name="x1-15148r3"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::string</span>&nbsp;<span 
class="cmtt-10">Name_;</span>
<a name="FancyVerbLine.5"></a>
<br class="fancyvrb"><a 
  name="x1-15150r4"></a>&nbsp;&nbsp;<a name="FancyVerbLine.6"></a>
<br class="fancyvrb"><a 
  name="x1-15152r5"></a>&nbsp;&nbsp;<span 
class="cmtt-10">public:</span>
<a name="FancyVerbLine.7"></a>
<br class="fancyvrb"><a 
  name="x1-15154r6"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">X(const</span>&nbsp;<span 
class="cmtt-10">std::string&amp;</span>&nbsp;<span 
class="cmtt-10">Name)</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">Name_(Name)</span>&nbsp;<span 
class="cmtt-10">{}</span>
<a name="FancyVerbLine.8"></a>
<br class="fancyvrb"><a 
  name="x1-15156r7"></a>&nbsp;&nbsp;<a name="FancyVerbLine.9"></a>
<br class="fancyvrb"><a 
  name="x1-15158r8"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">template&lt;class</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>
<a name="FancyVerbLine.10"></a>
<br class="fancyvrb"><a 
  name="x1-15160r9"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">X&amp;</span>&nbsp;<span 
class="cmtt-10">operator=(const</span>&nbsp;<span 
class="cmtt-10">Daixt::Expr&lt;T&gt;&amp;</span>&nbsp;<span 
class="cmtt-10">E)</span>
<a name="FancyVerbLine.11"></a>
<br class="fancyvrb"><a 
  name="x1-15162r10"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.12"></a>
<br class="fancyvrb"><a 
  name="x1-15164r11"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Name_</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">Evaluate(E));</span>
<a name="FancyVerbLine.13"></a>
<br class="fancyvrb"><a 
  name="x1-15166r12"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">*this;</span>
<a name="FancyVerbLine.14"></a>
<br class="fancyvrb"><a 
  name="x1-15168r13"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.15"></a>
<br class="fancyvrb"><a 
  name="x1-15170r14"></a>&nbsp;&nbsp;<a name="FancyVerbLine.16"></a>
<br class="fancyvrb"><a 
  name="x1-15172r15"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::string</span>&nbsp;<span 
class="cmtt-10">Name()</span>&nbsp;<span 
class="cmtt-10">const</span>&nbsp;<span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">Name_;</span>&nbsp;<span 
class="cmtt-10">}</span>
<br class="fancyvrb"><a 
  name="x1-15174r16"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
</div>
<!--l. 218--><p class="noindent">In order to ease the output of expressions, <span 
class="cmtt-10--109">namespace Daixt::OutputUtilities</span> contains
everything needed to output any expression. This feature works for any leaf <span 
class="cmtt-10--109">class T</span> that has a
<span 
class="cmtt-10--109">std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const T&amp; t)</span> defined. See how this feature was used
in the sparse matrix example <a 
href="#x1-100003.2">3.2<!--tex4ht:ref: sec: Linalg: Sparse Matrix and Vector--></a> above.
<a name="subsubsection.3.4.4"></a>
<h5 class="subsubsectionHead"><span class="titlemark">3.4.4 </span> <a 
  name="x1-160003.4.4"></a>Disambiguation</h5>
                                                                                      
                                                                                      
<!--l. 228--><p class="noindent">Sometimes it is a good idea to let the compiler emit an error if incompatible types are combined in an
exprression. Perhaps one does not want a <span 
class="cmtt-10--109">Vector</span> added to a <span 
class="cmtt-10--109">TesorRankOne</span> to pass the compiler ending
in long debugging sessions.
<!--l. 234--><p class="noindent"><span 
class="cmssbx-10--109">Daixtrose </span>takes care of preventing the combination of incompatible types into one expression and provides
fine-grained control over its behaviour. The disambiguation mechanism compares types. Per default it
takes the type of the leaves of the expression tree (<span 
class="cmtt-10--109">class X</span> in our example) as disambigution
type.
<!--l. 240--><p class="noindent">There are two other possibilities for providing a disambiguation type: classes can contain a typedef like
in
<div class="fancyvrb" id="fancyvrb12"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-16002r1"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">X_Disambiguation</span>&nbsp;<span 
class="cmtt-10">{};</span>
<a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-16004r2"></a>&nbsp;&nbsp;<a name="FancyVerbLine.4"></a>
<br class="fancyvrb"><a 
  name="x1-16006r3"></a>&nbsp;&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">X</span>&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.5"></a>
<br class="fancyvrb"><a 
  name="x1-16008r4"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">X_Disambiguation</span>&nbsp;<span 
class="cmtt-10">Disambiguation;</span>
<br class="fancyvrb"><a 
  name="x1-16010r5"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
</div>
<!--l. 251--><p class="noindent">or one can specialize <span 
class="cmtt-10--109">Daixt::Disambiguator</span> which again allows plugging class X into the Expression
Template engine without modification:
<div class="fancyvrb" id="fancyvrb13"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-16012r1"></a>&nbsp;&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">X</span>&nbsp;<span 
class="cmtt-10">{};</span>
<a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-16014r2"></a>&nbsp;&nbsp;<a name="FancyVerbLine.4"></a>
<br class="fancyvrb"><a 
  name="x1-16016r3"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">X_Disambiguation</span>&nbsp;<span 
class="cmtt-10">{};</span>
<a name="FancyVerbLine.5"></a>
<br class="fancyvrb"><a 
  name="x1-16018r4"></a>&nbsp;&nbsp;<a name="FancyVerbLine.6"></a>
<br class="fancyvrb"><a 
  name="x1-16020r5"></a>&nbsp;&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt</span>
<a name="FancyVerbLine.7"></a>
<br class="fancyvrb"><a 
  name="x1-16022r6"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.8"></a>
<br class="fancyvrb"><a 
  name="x1-16024r7"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;&gt;</span>
<a name="FancyVerbLine.9"></a>
<br class="fancyvrb"><a 
  name="x1-16026r8"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">Disambiguator&lt;X&gt;</span>
<a name="FancyVerbLine.10"></a>
<br class="fancyvrb"><a 
  name="x1-16028r9"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.11"></a>
<br class="fancyvrb"><a 
  name="x1-16030r10"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">static</span>&nbsp;<span 
class="cmtt-10">const</span>&nbsp;<span 
class="cmtt-10">bool</span>&nbsp;<span 
class="cmtt-10">is_specialized</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">true;</span>
<a name="FancyVerbLine.12"></a>
<br class="fancyvrb"><a 
  name="x1-16032r11"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">X_Disambiguation</span>&nbsp;<span 
class="cmtt-10">Disambiguation;</span>
<a name="FancyVerbLine.13"></a>
<br class="fancyvrb"><a 
  name="x1-16034r12"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<br class="fancyvrb"><a 
  name="x1-16036r13"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
</div>
<!--l. 270--><p class="noindent">This techique allows one to combine classes which differ in type, but where it makes perfect sense to
combine them in expressions without error:
<div class="fancyvrb" id="fancyvrb14"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-16038r1"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;daixtrose/Daixt.h&#34;</span>
<a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-16040r2"></a>&nbsp;&nbsp;<a name="FancyVerbLine.4"></a>
<br class="fancyvrb"><a 
  name="x1-16042r3"></a>&nbsp;&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">MyOwn</span>
<a name="FancyVerbLine.5"></a>
<br class="fancyvrb"><a 
  name="x1-16044r4"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.6"></a>
<br class="fancyvrb"><a 
  name="x1-16046r5"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">Matrix</span>&nbsp;<span 
class="cmtt-10">{};</span>
<a name="FancyVerbLine.7"></a>
<br class="fancyvrb"><a 
  name="x1-16048r6"></a>&nbsp;&nbsp;<a name="FancyVerbLine.8"></a>
                                                                                      
                                                                                      
<br class="fancyvrb"><a 
  name="x1-16050r7"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">MatrixExpression</span>&nbsp;<span 
class="cmtt-10">{};</span>
<a name="FancyVerbLine.9"></a>
<br class="fancyvrb"><a 
  name="x1-16052r8"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.10"></a>
<br class="fancyvrb"><a 
  name="x1-16054r9"></a>&nbsp;&nbsp;<a name="FancyVerbLine.11"></a>
<br class="fancyvrb"><a 
  name="x1-16056r10"></a>&nbsp;&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt</span>
<a name="FancyVerbLine.12"></a>
<br class="fancyvrb"><a 
  name="x1-16058r11"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.13"></a>
<br class="fancyvrb"><a 
  name="x1-16060r12"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>
<a name="FancyVerbLine.14"></a>
<br class="fancyvrb"><a 
  name="x1-16062r13"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">Disambiguator&lt;MyOwn::Matrix&lt;T&gt;</span>&nbsp;<span 
class="cmtt-10">&gt;</span>
<a name="FancyVerbLine.15"></a>
<br class="fancyvrb"><a 
  name="x1-16064r14"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.16"></a>
<br class="fancyvrb"><a 
  name="x1-16066r15"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">static</span>&nbsp;<span 
class="cmtt-10">const</span>&nbsp;<span 
class="cmtt-10">bool</span>&nbsp;<span 
class="cmtt-10">is_specialized</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">true;</span>
<a name="FancyVerbLine.17"></a>
<br class="fancyvrb"><a 
  name="x1-16068r16"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">MyOwn::MatrixExpression</span>&nbsp;<span 
class="cmtt-10">Disambiguation;</span>
<a name="FancyVerbLine.18"></a>
<br class="fancyvrb"><a 
  name="x1-16070r17"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.19"></a>
<br class="fancyvrb"><a 
  name="x1-16072r18"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.20"></a>
<br class="fancyvrb"><a 
  name="x1-16074r19"></a>&nbsp;&nbsp;<a name="FancyVerbLine.21"></a>
<br class="fancyvrb"><a 
  name="x1-16076r20"></a>&nbsp;&nbsp;<span 
class="cmtt-10">int</span>&nbsp;<span 
class="cmtt-10">main()</span>
<a name="FancyVerbLine.22"></a>
<br class="fancyvrb"><a 
  name="x1-16078r21"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.23"></a>
<br class="fancyvrb"><a 
  name="x1-16080r22"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">MyOwn::Matrix&lt;double&gt;</span>&nbsp;<span 
class="cmtt-10">M1;</span>
<a name="FancyVerbLine.24"></a>
<br class="fancyvrb"><a 
  name="x1-16082r23"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">MyOwn::Matrix&lt;int&gt;</span>&nbsp;<span 
class="cmtt-10">M2;</span>
<a name="FancyVerbLine.25"></a>
<br class="fancyvrb"><a 
  name="x1-16084r24"></a>&nbsp;&nbsp;<a name="FancyVerbLine.26"></a>
<br class="fancyvrb"><a 
  name="x1-16086r25"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps;</span>
<a name="FancyVerbLine.27"></a>
<br class="fancyvrb"><a 
  name="x1-16088r26"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">M1</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">M2;</span>
<br class="fancyvrb"><a 
  name="x1-16090r27"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
</div>
<!--l. 276--><p class="noindent">Performing an operation on some object may result in another type. Consider the multiplication of a matrix
with a vector. The result is a vector expression. Daixtrose allows to communicate this fact via
specializations of BinOpResultDisambiguator and UnOpResultDisambiguator:
<div class="fancyvrb" id="fancyvrb15"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-16092r1"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;daixtrose/Daixt.h&#34;</span>
<a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-16094r2"></a>&nbsp;&nbsp;<a name="FancyVerbLine.4"></a>
<br class="fancyvrb"><a 
  name="x1-16096r3"></a>&nbsp;&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">MyOwn</span>
<a name="FancyVerbLine.5"></a>
<br class="fancyvrb"><a 
  name="x1-16098r4"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.6"></a>
<br class="fancyvrb"><a 
  name="x1-16100r5"></a>&nbsp;&nbsp;<a name="FancyVerbLine.7"></a>
<br class="fancyvrb"><a 
  name="x1-16102r6"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">MatrixExpression</span>&nbsp;<span 
class="cmtt-10">{};</span>
<a name="FancyVerbLine.8"></a>
<br class="fancyvrb"><a 
  name="x1-16104r7"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">VectorExpression</span>&nbsp;<span 
class="cmtt-10">{};</span>
<a name="FancyVerbLine.9"></a>
<br class="fancyvrb"><a 
  name="x1-16106r8"></a>&nbsp;&nbsp;<a name="FancyVerbLine.10"></a>
<br class="fancyvrb"><a 
  name="x1-16108r9"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">Matrix</span>
<a name="FancyVerbLine.11"></a>
<br class="fancyvrb"><a 
  name="x1-16110r10"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.12"></a>
<br class="fancyvrb"><a 
  name="x1-16112r11"></a>&nbsp;&nbsp;<span 
class="cmtt-10">public:</span>
<a name="FancyVerbLine.13"></a>
<br class="fancyvrb"><a 
  name="x1-16114r12"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">MatrixExpression</span>&nbsp;<span 
class="cmtt-10">Disambiguation;</span>
<a name="FancyVerbLine.14"></a>
<br class="fancyvrb"><a 
  name="x1-16116r13"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.15"></a>
<br class="fancyvrb"><a 
  name="x1-16118r14"></a>&nbsp;&nbsp;<a name="FancyVerbLine.16"></a>
<br class="fancyvrb"><a 
  name="x1-16120r15"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">Vector</span>
<a name="FancyVerbLine.17"></a>
<br class="fancyvrb"><a 
  name="x1-16122r16"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.18"></a>
<br class="fancyvrb"><a 
  name="x1-16124r17"></a>&nbsp;&nbsp;<span 
class="cmtt-10">public:</span>
<a name="FancyVerbLine.19"></a>
<br class="fancyvrb"><a 
  name="x1-16126r18"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">VectorExpression</span>&nbsp;<span 
class="cmtt-10">Disambiguation;</span>
<a name="FancyVerbLine.20"></a>
<br class="fancyvrb"><a 
  name="x1-16128r19"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.21"></a>
<br class="fancyvrb"><a 
  name="x1-16130r20"></a>&nbsp;&nbsp;<a name="FancyVerbLine.22"></a>
<br class="fancyvrb"><a 
  name="x1-16132r21"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">define</span>&nbsp;<span 
class="cmtt-10">a</span>&nbsp;<span 
class="cmtt-10">new</span>&nbsp;<span 
class="cmtt-10">Daixtrose-compatible</span>&nbsp;<span 
class="cmtt-10">unary</span>&nbsp;<span 
class="cmtt-10">functions</span>
<a name="FancyVerbLine.23"></a>
<br class="fancyvrb"><a 
  name="x1-16134r22"></a>&nbsp;&nbsp;<span 
class="cmtt-10">DAIXT_DEFINE_UNOP_AND_FUNCTION(RowSum,</span>&nbsp;<span 
class="cmtt-10">RowSumOfMatrix,</span>&nbsp;<span 
class="cmtt-10">DoNothing)</span>
<a name="FancyVerbLine.24"></a>
<br class="fancyvrb"><a 
  name="x1-16136r23"></a>&nbsp;&nbsp;<a name="FancyVerbLine.25"></a>
<br class="fancyvrb"><a 
  name="x1-16138r24"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">MyOwn</span>
<a name="FancyVerbLine.26"></a>
                                                                                      
                                                                                      
<br class="fancyvrb"><a 
  name="x1-16140r25"></a>&nbsp;&nbsp;<a name="FancyVerbLine.27"></a>
<br class="fancyvrb"><a 
  name="x1-16142r26"></a>&nbsp;&nbsp;<a name="FancyVerbLine.28"></a>
<br class="fancyvrb"><a 
  name="x1-16144r27"></a>&nbsp;&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt</span>
<a name="FancyVerbLine.29"></a>
<br class="fancyvrb"><a 
  name="x1-16146r28"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.30"></a>
<br class="fancyvrb"><a 
  name="x1-16148r29"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">Matrix</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">Vector</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">Vector</span>
<a name="FancyVerbLine.31"></a>
<br class="fancyvrb"><a 
  name="x1-16150r30"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;&gt;</span>
<a name="FancyVerbLine.32"></a>
<br class="fancyvrb"><a 
  name="x1-16152r31"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">BinOpResultDisambiguator&lt;MyOwn::MatrixExpression,</span>
<a name="FancyVerbLine.33"></a>
<br class="fancyvrb"><a 
  name="x1-16154r32"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">MyOwn::VectorExpression,</span>
<a name="FancyVerbLine.34"></a>
<br class="fancyvrb"><a 
  name="x1-16156r33"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps::BinaryMultiply&gt;</span>
<a name="FancyVerbLine.35"></a>
<br class="fancyvrb"><a 
  name="x1-16158r34"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.36"></a>
<br class="fancyvrb"><a 
  name="x1-16160r35"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">MyOwn::VectorExpression</span>&nbsp;<span 
class="cmtt-10">Disambiguation;</span>
<a name="FancyVerbLine.37"></a>
<br class="fancyvrb"><a 
  name="x1-16162r36"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.38"></a>
<br class="fancyvrb"><a 
  name="x1-16164r37"></a>&nbsp;&nbsp;<a name="FancyVerbLine.39"></a>
<br class="fancyvrb"><a 
  name="x1-16166r38"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;&gt;</span>
<a name="FancyVerbLine.40"></a>
<br class="fancyvrb"><a 
  name="x1-16168r39"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">UnOpResultDisambiguator&lt;MyOwn::MatrixExpression,</span>
<a name="FancyVerbLine.41"></a>
<br class="fancyvrb"><a 
  name="x1-16170r40"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">MyOwn::RowSumOfMatrix&gt;</span>
<a name="FancyVerbLine.42"></a>
<br class="fancyvrb"><a 
  name="x1-16172r41"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.43"></a>
<br class="fancyvrb"><a 
  name="x1-16174r42"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">MyOwn::VectorExpression</span>&nbsp;<span 
class="cmtt-10">Disambiguation;</span>
<a name="FancyVerbLine.44"></a>
<br class="fancyvrb"><a 
  name="x1-16176r43"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.45"></a>
<br class="fancyvrb"><a 
  name="x1-16178r44"></a>&nbsp;&nbsp;<a name="FancyVerbLine.46"></a>
<br class="fancyvrb"><a 
  name="x1-16180r45"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt</span>
<a name="FancyVerbLine.47"></a>
<br class="fancyvrb"><a 
  name="x1-16182r46"></a>&nbsp;&nbsp;<a name="FancyVerbLine.48"></a>
<br class="fancyvrb"><a 
  name="x1-16184r47"></a>&nbsp;&nbsp;<span 
class="cmtt-10">int</span>&nbsp;<span 
class="cmtt-10">main()</span>
<a name="FancyVerbLine.49"></a>
<br class="fancyvrb"><a 
  name="x1-16186r48"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.50"></a>
<br class="fancyvrb"><a 
  name="x1-16188r49"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">MyOwn::Matrix&lt;double&gt;</span>&nbsp;<span 
class="cmtt-10">M;</span>
<a name="FancyVerbLine.51"></a>
<br class="fancyvrb"><a 
  name="x1-16190r50"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">MyOwn::Vector&lt;double&gt;</span>&nbsp;<span 
class="cmtt-10">V1;</span>
<a name="FancyVerbLine.52"></a>
<br class="fancyvrb"><a 
  name="x1-16192r51"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">MyOwn::Vector&lt;int&gt;</span>&nbsp;<span 
class="cmtt-10">V2;</span>
<a name="FancyVerbLine.53"></a>
<br class="fancyvrb"><a 
  name="x1-16194r52"></a>&nbsp;&nbsp;<a name="FancyVerbLine.54"></a>
<br class="fancyvrb"><a 
  name="x1-16196r53"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps;</span>
<a name="FancyVerbLine.55"></a>
<br class="fancyvrb"><a 
  name="x1-16198r54"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">V1</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">M</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">V2</span>&nbsp;<span 
class="cmtt-10">-</span>&nbsp;<span 
class="cmtt-10">MyOwn::RowSum(M);</span>
<br class="fancyvrb"><a 
  name="x1-16200r55"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
</div>
<a name="subsubsection.3.4.5"></a>
<h5 class="subsubsectionHead"><span class="titlemark">3.4.5 </span> <a 
  name="x1-170003.4.5"></a>Value Semantics vs. Reference Semantics</h5>
<!--l. 285--><p class="noindent"><span 
class="cmssbx-10--109">Daixtrose </span>default behaviour is to use value semantics while building the object that represents the
expression tree. This means that all leaves (operands) get copied once. Users can modify this behaviour by
specializing template <span 
class="cmtt-10--109">class CRefOrVal</span>:
<!--l. 290--><p class="noindent">Adding the following code to the example above prevents matrices and vectors to get copied.
<div class="fancyvrb" id="fancyvrb16"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-17002r1"></a>&nbsp;&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt</span>
<a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-17004r2"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.4"></a>
<br class="fancyvrb"><a 
  name="x1-17006r3"></a>&nbsp;&nbsp;<a name="FancyVerbLine.5"></a>
<br class="fancyvrb"><a 
  name="x1-17008r4"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>
<a name="FancyVerbLine.6"></a>
<br class="fancyvrb"><a 
  name="x1-17010r5"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">CRefOrVal&lt;MyOwn::Matrix&lt;T&gt;</span>&nbsp;<span 
class="cmtt-10">&gt;</span>
<a name="FancyVerbLine.7"></a>
<br class="fancyvrb"><a 
  name="x1-17012r6"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.8"></a>
<br class="fancyvrb"><a 
  name="x1-17014r7"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">Daixt::ConstRef&lt;MyOwn::Matrix&lt;T&gt;</span>&nbsp;<span 
class="cmtt-10">&gt;</span>&nbsp;<span 
class="cmtt-10">Type;</span>
<a name="FancyVerbLine.9"></a>
<br class="fancyvrb"><a 
  name="x1-17016r8"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.10"></a>
                                                                                      
                                                                                      
<br class="fancyvrb"><a 
  name="x1-17018r9"></a>&nbsp;&nbsp;<a name="FancyVerbLine.11"></a>
<br class="fancyvrb"><a 
  name="x1-17020r10"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>
<a name="FancyVerbLine.12"></a>
<br class="fancyvrb"><a 
  name="x1-17022r11"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">CRefOrVal&lt;MyOwn::Vector&lt;T&gt;</span>&nbsp;<span 
class="cmtt-10">&gt;</span>
<a name="FancyVerbLine.13"></a>
<br class="fancyvrb"><a 
  name="x1-17024r12"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.14"></a>
<br class="fancyvrb"><a 
  name="x1-17026r13"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">Daixt::ConstRef&lt;MyOwn::Vector&lt;T&gt;</span>&nbsp;<span 
class="cmtt-10">&gt;</span>&nbsp;<span 
class="cmtt-10">Type;</span>
<a name="FancyVerbLine.15"></a>
<br class="fancyvrb"><a 
  name="x1-17028r14"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.16"></a>
<br class="fancyvrb"><a 
  name="x1-17030r15"></a>&nbsp;&nbsp;
<br class="fancyvrb"><a 
  name="x1-17032r16"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
</div>
<!--l. 311--><p class="noindent"><span 
class="cmssbx-10--109">Daixtrose </span>now uses const references to the leaf objects. Of course the user then is responsible for
avoiding dangling references by ensuring the lifetime of all leaves is longer than the lifetime of the
expression.
<a name="subsubsection.3.4.6"></a>
<h5 class="subsubsectionHead"><span class="titlemark">3.4.6 </span> <a 
  name="x1-180003.4.6"></a>Adding Polymorphic Behaviour to Expression Templates</h5>
<!--l. 318--><p class="noindent">It&#8217;s a kind of magic, but it works well. <span 
class="cmtt-10--109">Daixt::Expr&lt;T&gt;</span> inherits from <span 
class="cmtt-10--109">FeaturesOfExpressions</span> using the
Couriously Recursive Template Pattern (due to Geoffrey Furnish, also called the Couriously Recurring
Pattern, so let&#8217;s call it CRTP). Users can specialize this class which makes it possible to add publicly
accessible member functions to expressions on the fly.
<!--l. 325--><p class="noindent">This feature is build on top of a disambiguation changing mechanism which may help around some
brain-damage in other situations, too.
<!--l. 328--><p class="noindent">But see yourself: a piece of code says more than further explanations:
<div class="fancyvrb" id="fancyvrb17"><a name="FancyVerbLine.28"></a>
<br class="fancyvrb"><a 
  name="x1-18002r28"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;daixtrose/Daixt.h&#34;</span>
<a name="FancyVerbLine.29"></a><a name="FancyVerbLine.30"></a>
<br class="fancyvrb"><a 
  name="x1-18004r29"></a>&nbsp;&nbsp;<a name="FancyVerbLine.31"></a>
<br class="fancyvrb"><a 
  name="x1-18006r30"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&lt;iostream&gt;</span><a name="FancyVerbLine.32"></a>
<br class="fancyvrb"><a 
  name="x1-18008r31"></a>&nbsp;&nbsp;<a name="FancyVerbLine.33"></a>
<br class="fancyvrb"><a 
  name="x1-18010r32"></a>&nbsp;&nbsp;<a name="FancyVerbLine.34"></a>
<br class="fancyvrb"><a 
  name="x1-18012r33"></a>&nbsp;&nbsp;<span 
class="cmtt-10">////////////////////////////////////////////////////////////////////////////////</span>
<a name="FancyVerbLine.35"></a>
<br class="fancyvrb"><a 
  name="x1-18014r34"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">A</span>&nbsp;<span 
class="cmtt-10">_very_</span>&nbsp;<span 
class="cmtt-10">simple</span>&nbsp;<span 
class="cmtt-10">example</span>&nbsp;<span 
class="cmtt-10">for</span>&nbsp;<span 
class="cmtt-10">how</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">use</span>&nbsp;<span 
class="cmtt-10">Daixt.</span>
<a name="FancyVerbLine.36"></a>
<br class="fancyvrb"><a 
  name="x1-18016r35"></a>&nbsp;&nbsp;<a name="FancyVerbLine.37"></a>
<br class="fancyvrb"><a 
  name="x1-18018r36"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">ValueGetter;</span>
<a name="FancyVerbLine.38"></a>
<br class="fancyvrb"><a 
  name="x1-18020r37"></a>&nbsp;&nbsp;<a name="FancyVerbLine.39"></a>
<br class="fancyvrb"><a 
  name="x1-18022r38"></a>&nbsp;&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">Variable</span><a name="FancyVerbLine.40"></a>
<br class="fancyvrb"><a 
  name="x1-18024r39"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.41"></a>
<br class="fancyvrb"><a 
  name="x1-18026r40"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">double</span>&nbsp;<span 
class="cmtt-10">Value_;</span>
<a name="FancyVerbLine.42"></a>
<br class="fancyvrb"><a 
  name="x1-18028r41"></a>&nbsp;&nbsp;<span 
class="cmtt-10">public:</span>
<a name="FancyVerbLine.43"></a>
<br class="fancyvrb"><a 
  name="x1-18030r42"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Variable()</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">Value_(0.0)</span>&nbsp;<span 
class="cmtt-10">{}</span>
<a name="FancyVerbLine.44"></a>
<br class="fancyvrb"><a 
  name="x1-18032r43"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Variable(double</span>&nbsp;<span 
class="cmtt-10">Value)</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">Value_(Value)</span>&nbsp;<span 
class="cmtt-10">{}</span>
<a name="FancyVerbLine.45"></a>
<br class="fancyvrb"><a 
  name="x1-18034r44"></a>&nbsp;&nbsp;<a name="FancyVerbLine.46"></a>
<br class="fancyvrb"><a 
  name="x1-18036r45"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>&nbsp;<span 
class="cmtt-10">Variable(const</span>&nbsp;<span 
class="cmtt-10">Daixt::Expr&lt;T&gt;&amp;</span>&nbsp;<span 
class="cmtt-10">E);</span>
<a name="FancyVerbLine.47"></a>
<br class="fancyvrb"><a 
  name="x1-18038r46"></a>&nbsp;&nbsp;<a name="FancyVerbLine.48"></a>
<br class="fancyvrb"><a 
  name="x1-18040r47"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">inline</span>&nbsp;<span 
class="cmtt-10">double</span>&nbsp;<span 
class="cmtt-10">GetValue()</span>&nbsp;<span 
class="cmtt-10">const</span>&nbsp;<span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">Value_;</span>&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.49"></a>
<br class="fancyvrb"><a 
  name="x1-18042r48"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">inline</span>&nbsp;<span 
class="cmtt-10">void</span>&nbsp;<span 
class="cmtt-10">SetValue(double</span>&nbsp;<span 
class="cmtt-10">Value)</span>&nbsp;<span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">Value_</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">Value;</span>&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.50"></a>
<br class="fancyvrb"><a 
  name="x1-18044r49"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.51"></a>
                                                                                      
                                                                                      
<br class="fancyvrb"><a 
  name="x1-18046r50"></a>&nbsp;&nbsp;<a name="FancyVerbLine.52"></a>
<br class="fancyvrb"><a 
  name="x1-18048r51"></a>&nbsp;&nbsp;<span 
class="cmtt-10">////////////////////////////////////////////////////////////////////////////////</span>
<a name="FancyVerbLine.53"></a>
<br class="fancyvrb"><a 
  name="x1-18050r52"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">all</span>&nbsp;<span 
class="cmtt-10">overloads</span>&nbsp;<span 
class="cmtt-10">of</span>&nbsp;<span 
class="cmtt-10">a</span>&nbsp;<span 
class="cmtt-10">feature</span>&nbsp;<span 
class="cmtt-10">are</span>&nbsp;<span 
class="cmtt-10">gathered</span>&nbsp;<span 
class="cmtt-10">together</span>&nbsp;<span 
class="cmtt-10">in</span>&nbsp;<span 
class="cmtt-10">one</span>&nbsp;<span 
class="cmtt-10">place,</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">functor</span>
<a name="FancyVerbLine.54"></a>
<br class="fancyvrb"><a 
  name="x1-18052r53"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">ValueGetter.</span>&nbsp;<span 
class="cmtt-10">You</span>&nbsp;<span 
class="cmtt-10">could</span>&nbsp;<span 
class="cmtt-10">have</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">same</span>&nbsp;<span 
class="cmtt-10">effect</span>&nbsp;<span 
class="cmtt-10">with</span>&nbsp;<span 
class="cmtt-10">free</span>&nbsp;<span 
class="cmtt-10">functions,</span>&nbsp;<span 
class="cmtt-10">too</span>
<a name="FancyVerbLine.55"></a>
<br class="fancyvrb"><a 
  name="x1-18054r54"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">ValueGetter</span>&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.56"></a>
<br class="fancyvrb"><a 
  name="x1-18056r55"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">inline</span>&nbsp;<span 
class="cmtt-10">double</span>&nbsp;<span 
class="cmtt-10">operator()(const</span>&nbsp;<span 
class="cmtt-10">Variable&amp;</span>&nbsp;<span 
class="cmtt-10">v)</span>&nbsp;<span 
class="cmtt-10">const</span>
<a name="FancyVerbLine.57"></a>
<br class="fancyvrb"><a 
  name="x1-18058r56"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.58"></a>
<br class="fancyvrb"><a 
  name="x1-18060r57"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">v.GetValue();</span>
<a name="FancyVerbLine.59"></a>
<br class="fancyvrb"><a 
  name="x1-18062r58"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.60"></a>
<br class="fancyvrb"><a 
  name="x1-18064r59"></a>&nbsp;&nbsp;<a name="FancyVerbLine.61"></a>
<br class="fancyvrb"><a 
  name="x1-18066r60"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">template&lt;class</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>
<a name="FancyVerbLine.62"></a>
<br class="fancyvrb"><a 
  name="x1-18068r61"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">double</span>&nbsp;<span 
class="cmtt-10">operator()(const</span>&nbsp;<span 
class="cmtt-10">Daixt::Expr&lt;T&gt;&amp;</span>&nbsp;<span 
class="cmtt-10">E)</span>&nbsp;<span 
class="cmtt-10">const</span>
<a name="FancyVerbLine.63"></a>
<br class="fancyvrb"><a 
  name="x1-18070r62"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.64"></a>
<br class="fancyvrb"><a 
  name="x1-18072r63"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">(*this)(E.content());</span>
<a name="FancyVerbLine.65"></a>
<br class="fancyvrb"><a 
  name="x1-18074r64"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.66"></a>
<br class="fancyvrb"><a 
  name="x1-18076r65"></a>&nbsp;&nbsp;<a name="FancyVerbLine.67"></a>
<br class="fancyvrb"><a 
  name="x1-18078r66"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//////////////////////////////////////////////////////////////////////////////</span>
<a name="FancyVerbLine.68"></a>
<br class="fancyvrb"><a 
  name="x1-18080r67"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">always</span>&nbsp;<span 
class="cmtt-10">rely</span>&nbsp;<span 
class="cmtt-10">on</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">default</span>&nbsp;<span 
class="cmtt-10">behaviour</span>
<a name="FancyVerbLine.69"></a>
<br class="fancyvrb"><a 
  name="x1-18082r68"></a>&nbsp;&nbsp;<a name="FancyVerbLine.70"></a>
<br class="fancyvrb"><a 
  name="x1-18084r69"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">ARG,</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">OP&gt;</span>
<a name="FancyVerbLine.71"></a>
<br class="fancyvrb"><a 
  name="x1-18086r70"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">double</span><a name="FancyVerbLine.72"></a>
<br class="fancyvrb"><a 
  name="x1-18088r71"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">operator()(const</span>&nbsp;<span 
class="cmtt-10">Daixt::UnOp&lt;ARG,</span>&nbsp;<span 
class="cmtt-10">OP&gt;&amp;</span>&nbsp;<span 
class="cmtt-10">UO)</span>&nbsp;<span 
class="cmtt-10">const</span>
<a name="FancyVerbLine.73"></a>
<br class="fancyvrb"><a 
  name="x1-18090r72"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.74"></a>
<br class="fancyvrb"><a 
  name="x1-18092r73"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">OP::Apply((*this)(UO.arg()),</span>
<a name="FancyVerbLine.75"></a>
<br class="fancyvrb"><a 
  name="x1-18094r74"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Daixt::Hint&lt;double&gt;());</span>
<a name="FancyVerbLine.76"></a>
<br class="fancyvrb"><a 
  name="x1-18096r75"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.77"></a>
<br class="fancyvrb"><a 
  name="x1-18098r76"></a>&nbsp;&nbsp;<a name="FancyVerbLine.78"></a>
<br class="fancyvrb"><a 
  name="x1-18100r77"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">LHS,</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">RHS,</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">OP&gt;</span>
<a name="FancyVerbLine.79"></a>
<br class="fancyvrb"><a 
  name="x1-18102r78"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">double</span><a name="FancyVerbLine.80"></a>
<br class="fancyvrb"><a 
  name="x1-18104r79"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">operator()(const</span>&nbsp;<span 
class="cmtt-10">Daixt::BinOp&lt;LHS,</span>&nbsp;<span 
class="cmtt-10">RHS,</span>&nbsp;<span 
class="cmtt-10">OP&gt;&amp;</span>&nbsp;<span 
class="cmtt-10">BO)</span>&nbsp;<span 
class="cmtt-10">const</span>
<a name="FancyVerbLine.81"></a>
<br class="fancyvrb"><a 
  name="x1-18106r80"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.82"></a>
<br class="fancyvrb"><a 
  name="x1-18108r81"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">OP::Apply((*this)(BO.lhs()),</span>
<a name="FancyVerbLine.83"></a>
<br class="fancyvrb"><a 
  name="x1-18110r82"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">(*this)(BO.rhs()),</span>
<a name="FancyVerbLine.84"></a>
<br class="fancyvrb"><a 
  name="x1-18112r83"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Daixt::Hint&lt;double&gt;());</span>
<a name="FancyVerbLine.85"></a>
<br class="fancyvrb"><a 
  name="x1-18114r84"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.86"></a>
<br class="fancyvrb"><a 
  name="x1-18116r85"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.87"></a>
<br class="fancyvrb"><a 
  name="x1-18118r86"></a>&nbsp;&nbsp;<a name="FancyVerbLine.88"></a>
<br class="fancyvrb"><a 
  name="x1-18120r87"></a>&nbsp;&nbsp;<a name="FancyVerbLine.89"></a>
<br class="fancyvrb"><a 
  name="x1-18122r88"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">mourning</span>&nbsp;<span 
class="cmtt-10">about</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">C++</span>&nbsp;<span 
class="cmtt-10">rules</span>&nbsp;<span 
class="cmtt-10">...</span>
<a name="FancyVerbLine.90"></a>
<br class="fancyvrb"><a 
  name="x1-18124r89"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>&nbsp;&nbsp;<span 
class="cmtt-10">Variable::Variable(const</span>&nbsp;<span 
class="cmtt-10">Daixt::Expr&lt;T&gt;&amp;</span>&nbsp;<span 
class="cmtt-10">E)</span>
<a name="FancyVerbLine.91"></a>
<br class="fancyvrb"><a 
  name="x1-18126r90"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">:</span><a name="FancyVerbLine.92"></a>
<br class="fancyvrb"><a 
  name="x1-18128r91"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Value_(ValueGetter()(E))</span>&nbsp;<span 
class="cmtt-10">{}</span>&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">delegate</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">functor</span>
<a name="FancyVerbLine.93"></a>
<br class="fancyvrb"><a 
  name="x1-18130r92"></a>&nbsp;&nbsp;<a name="FancyVerbLine.94"></a>
<br class="fancyvrb"><a 
  name="x1-18132r93"></a>&nbsp;&nbsp;<span 
class="cmtt-10">////////////////////////////////////////////////////////////////////////////////</span>
<a name="FancyVerbLine.95"></a>
<br class="fancyvrb"><a 
  name="x1-18134r94"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">Introduce</span>&nbsp;<span 
class="cmtt-10">some</span>&nbsp;<span 
class="cmtt-10">features</span>&nbsp;<span 
class="cmtt-10">we</span>&nbsp;<span 
class="cmtt-10">would</span>&nbsp;<span 
class="cmtt-10">like</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">add</span>&nbsp;<span 
class="cmtt-10">sometimes</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">expression</span>
<a name="FancyVerbLine.96"></a>
<br class="fancyvrb"><a 
  name="x1-18136r95"></a>&nbsp;&nbsp;<a name="FancyVerbLine.97"></a>
<br class="fancyvrb"><a 
  name="x1-18138r96"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">SomeFeature</span><a name="FancyVerbLine.98"></a>
<br class="fancyvrb"><a 
  name="x1-18140r97"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.99"></a>
<br class="fancyvrb"><a 
  name="x1-18142r98"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">virtual</span>&nbsp;<span 
class="cmtt-10">double</span>&nbsp;<span 
class="cmtt-10">GetValue()</span>&nbsp;<span 
class="cmtt-10">const</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">0;</span>
<a name="FancyVerbLine.100"></a>
<br class="fancyvrb"><a 
  name="x1-18144r99"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">virtual</span>&nbsp;<span 
class="cmtt-10">SomeFeature*</span>&nbsp;<span 
class="cmtt-10">DeepCopy()</span>&nbsp;<span 
class="cmtt-10">const</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">0;</span>
<a name="FancyVerbLine.101"></a>
<br class="fancyvrb"><a 
  name="x1-18146r100"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">virtual</span>&nbsp;<span 
class="cmtt-10">~SomeFeature()</span>&nbsp;<span 
class="cmtt-10">{}</span>
<a name="FancyVerbLine.102"></a>
<br class="fancyvrb"><a 
  name="x1-18148r101"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.103"></a>
<br class="fancyvrb"><a 
  name="x1-18150r102"></a>&nbsp;&nbsp;<a name="FancyVerbLine.104"></a>
<br class="fancyvrb"><a 
  name="x1-18152r103"></a>&nbsp;&nbsp;<a name="FancyVerbLine.105"></a>
                                                                                      
                                                                                      
<br class="fancyvrb"><a 
  name="x1-18154r104"></a>&nbsp;&nbsp;<a name="FancyVerbLine.106"></a>
<br class="fancyvrb"><a 
  name="x1-18156r105"></a>&nbsp;&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt</span>
<a name="FancyVerbLine.107"></a>
<br class="fancyvrb"><a 
  name="x1-18158r106"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.108"></a>
<br class="fancyvrb"><a 
  name="x1-18160r107"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>
<a name="FancyVerbLine.109"></a>
<br class="fancyvrb"><a 
  name="x1-18162r108"></a>&nbsp;&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">FeaturesOfExpression&lt;SomeFeature,</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>
<a name="FancyVerbLine.110"></a>
<br class="fancyvrb"><a 
  name="x1-18164r109"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">public</span>&nbsp;<span 
class="cmtt-10">SomeFeature</span>
<a name="FancyVerbLine.111"></a>
<br class="fancyvrb"><a 
  name="x1-18166r110"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.112"></a>
<br class="fancyvrb"><a 
  name="x1-18168r111"></a>&nbsp;&nbsp;<span 
class="cmtt-10">public:</span>
<a name="FancyVerbLine.113"></a>
<br class="fancyvrb"><a 
  name="x1-18170r112"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">double</span>&nbsp;<span 
class="cmtt-10">GetValue()</span>&nbsp;<span 
class="cmtt-10">const</span>
<a name="FancyVerbLine.114"></a>
<br class="fancyvrb"><a 
  name="x1-18172r113"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.115"></a>
<br class="fancyvrb"><a 
  name="x1-18174r114"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">ValueGetter()(static_cast&lt;const</span>&nbsp;<span 
class="cmtt-10">T&amp;&gt;(*this));</span>
<a name="FancyVerbLine.116"></a>
<br class="fancyvrb"><a 
  name="x1-18176r115"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.117"></a>
<br class="fancyvrb"><a 
  name="x1-18178r116"></a>&nbsp;&nbsp;<a name="FancyVerbLine.118"></a>
<br class="fancyvrb"><a 
  name="x1-18180r117"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">FeaturesOfExpression&lt;SomeFeature,</span>&nbsp;<span 
class="cmtt-10">T&gt;*</span>&nbsp;<span 
class="cmtt-10">DeepCopy()</span>&nbsp;<span 
class="cmtt-10">const</span>
<a name="FancyVerbLine.119"></a>
<br class="fancyvrb"><a 
  name="x1-18182r118"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.120"></a>
<br class="fancyvrb"><a 
  name="x1-18184r119"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">new</span>&nbsp;<span 
class="cmtt-10">T(static_cast&lt;const</span>&nbsp;<span 
class="cmtt-10">T&amp;&gt;(*this));</span>
<a name="FancyVerbLine.121"></a>
<br class="fancyvrb"><a 
  name="x1-18186r120"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.122"></a>
<br class="fancyvrb"><a 
  name="x1-18188r121"></a>&nbsp;&nbsp;<a name="FancyVerbLine.123"></a>
<br class="fancyvrb"><a 
  name="x1-18190r122"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">virtual</span>&nbsp;<span 
class="cmtt-10">~FeaturesOfExpression()</span>&nbsp;<span 
class="cmtt-10">{};</span>
<a name="FancyVerbLine.124"></a>
<br class="fancyvrb"><a 
  name="x1-18192r123"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.125"></a>
<br class="fancyvrb"><a 
  name="x1-18194r124"></a>&nbsp;&nbsp;<a name="FancyVerbLine.126"></a>
<br class="fancyvrb"><a 
  name="x1-18196r125"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt</span>
<a name="FancyVerbLine.127"></a>
<br class="fancyvrb"><a 
  name="x1-18198r126"></a>&nbsp;&nbsp;<a name="FancyVerbLine.128"></a>
<br class="fancyvrb"><a 
  name="x1-18200r127"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//////////////////////////////////////////////////////////////////////////////</span>
<a name="FancyVerbLine.129"></a>
<br class="fancyvrb"><a 
  name="x1-18202r128"></a>&nbsp;&nbsp;<a name="FancyVerbLine.130"></a>
<br class="fancyvrb"><a 
  name="x1-18204r129"></a>&nbsp;&nbsp;<span 
class="cmtt-10">int</span>&nbsp;<span 
class="cmtt-10">main()</span>
<a name="FancyVerbLine.131"></a>
<br class="fancyvrb"><a 
  name="x1-18206r130"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.132"></a>
<br class="fancyvrb"><a 
  name="x1-18208r131"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps;</span>
<a name="FancyVerbLine.133"></a>
<br class="fancyvrb"><a 
  name="x1-18210r132"></a>&nbsp;&nbsp;<a name="FancyVerbLine.134"></a>
<br class="fancyvrb"><a 
  name="x1-18212r133"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Variable</span>&nbsp;<span 
class="cmtt-10">a</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">5.0,</span>&nbsp;<span 
class="cmtt-10">b</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">3.0,</span>&nbsp;<span 
class="cmtt-10">c</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">2.0;</span>
<a name="FancyVerbLine.135"></a>
<br class="fancyvrb"><a 
  name="x1-18214r134"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Variable</span>&nbsp;<span 
class="cmtt-10">d</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">a</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">b</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">c</span>&nbsp;<span 
class="cmtt-10">/</span>&nbsp;<span 
class="cmtt-10">(a</span>&nbsp;<span 
class="cmtt-10">-</span>&nbsp;<span 
class="cmtt-10">b);</span>
<a name="FancyVerbLine.136"></a>
<br class="fancyvrb"><a 
  name="x1-18216r135"></a>&nbsp;&nbsp;<a name="FancyVerbLine.137"></a>
<br class="fancyvrb"><a 
  name="x1-18218r136"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cerr</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">ValueGetter()(d)</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">std::endl;</span>
<a name="FancyVerbLine.138"></a>
<br class="fancyvrb"><a 
  name="x1-18220r137"></a>&nbsp;&nbsp;<a name="FancyVerbLine.139"></a>
<br class="fancyvrb"><a 
  name="x1-18222r138"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cerr</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">Daixt::ChangeDisambiguation&lt;SomeFeature&gt;</span>
<a name="FancyVerbLine.140"></a>
<br class="fancyvrb"><a 
  name="x1-18224r139"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">(a</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">b</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">c</span>&nbsp;<span 
class="cmtt-10">/</span>&nbsp;<span 
class="cmtt-10">(a</span>&nbsp;<span 
class="cmtt-10">-</span>&nbsp;<span 
class="cmtt-10">b)).GetValue()</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">'\n';</span>
<a name="FancyVerbLine.141"></a>
<br class="fancyvrb"><a 
  name="x1-18226r140"></a>&nbsp;&nbsp;<a name="FancyVerbLine.142"></a>
<br class="fancyvrb"><a 
  name="x1-18228r141"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">SomeFeature*</span>&nbsp;<span 
class="cmtt-10">sf</span>&nbsp;<span 
class="cmtt-10">=</span><a name="FancyVerbLine.143"></a>
<br class="fancyvrb"><a 
  name="x1-18230r142"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Daixt::ChangeDisambiguation&lt;SomeFeature&gt;(a</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">b</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">c</span>&nbsp;<span 
class="cmtt-10">/</span>&nbsp;<span 
class="cmtt-10">(a</span>&nbsp;<span 
class="cmtt-10">-</span>&nbsp;<span 
class="cmtt-10">b)).DeepCopy();</span>
<a name="FancyVerbLine.144"></a>
<br class="fancyvrb"><a 
  name="x1-18232r143"></a>&nbsp;&nbsp;<a name="FancyVerbLine.145"></a>
<br class="fancyvrb"><a 
  name="x1-18234r144"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cerr</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">sf-&gt;GetValue()</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">std::endl;</span>
<a name="FancyVerbLine.146"></a>
<br class="fancyvrb"><a 
  name="x1-18236r145"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<br class="fancyvrb"><a 
  name="x1-18238r146"></a>&nbsp;&nbsp;
</div>
<a name="subsubsection.3.4.7"></a>
<h5 class="subsubsectionHead"><span class="titlemark">3.4.7 </span> <a 
  name="x1-190003.4.7"></a>Compile Time Differentiation</h5>
<!--l. 335--><p class="noindent">If you ever want to let the compiler analytically differentiate arbitrary expressions, <span 
class="cmssbx-10--109">Daixtrose </span>is the library
of choice. This is not exactly what the compiler was invented for, but this feature is extremely useful e.g.
for creating generic versions of exact Newton solvers.
                                                                                      
                                                                                      
<!--l. 340--><p class="noindent">There is one restriction: compile time differentiation only works for variables that differ in
type. Of course one wants all variables to behave similar, so the nearest solution is to use a
template class that makes the variables distinguishable <span 
class="cmssi-10--109">at compile time </span>through the template
argument.
<!--l. 346--><p class="noindent">Some possible candidates are
<div class="fancyvrb" id="fancyvrb18"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-19002r1"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;std::size_t</span>&nbsp;<span 
class="cmtt-10">Number&gt;</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">Variable;</span>
</div>
<!--l. 351--><p class="noindent">or
<div class="fancyvrb" id="fancyvrb19"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-19004r1"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;const</span>&nbsp;<span 
class="cmtt-10">char</span>&nbsp;<span 
class="cmtt-10">Name[256]&gt;</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">Variable;</span>
</div>
<!--l. 356--><p class="noindent">The first version is used in <span 
class="cmtt-10--109">src/demos/simplify/TestSimplify.C</span>, the second version in the following
demo example. Differentiation was implemented such that the product and sum rules are formally applied
without any simplification. This means that zero terms are not automatically removed. Example:
<span 
class="cmtt-10--109">Diff(a + b, b)</span> yields <span 
class="cmtt-10--109">0 + 1</span> or - in C++ terms - an object of type <span 
class="cmtt-10--109">Expr&lt;BinOp&lt;...&gt; &gt;</span> instead of an
<span 
class="cmtt-10--109">Expr&lt;IsOne&lt;..&gt; &gt;</span>.
<!--l. 364--><p class="noindent">For production code the compile time zero-branch deletion is crucial for the runtime performance.
Therefore expression simplification is implemented separately and can be applied to the result of a
differentiation. Example: <span 
class="cmtt-10--109">Simplify(Diff(a + b, b))</span> yields the desired result <span 
class="cmtt-10--109">1</span>.
<!--l. 369--><p class="noindent">In order to speed up compilation for cases where these features are not needed differentiation resides in
<span 
class="cmtt-10--109">namespace Daixt::Differentiation</span> and expression manipulation in <span 
class="cmtt-10--109">namespace Daixt::ExprManip</span>.
<!--l. 373--><p class="noindent">The following example shows both features in action.
<div class="fancyvrb" id="fancyvrb20"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-19006r1"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;daixtrose/Daixt.h&#34;</span>
<a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-19008r2"></a>&nbsp;&nbsp;<a name="FancyVerbLine.4"></a>
<br class="fancyvrb"><a 
  name="x1-19010r3"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;const</span>&nbsp;<span 
class="cmtt-10">char</span>&nbsp;<span 
class="cmtt-10">Name[256]&gt;</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">Variable</span>&nbsp;<span 
class="cmtt-10">{};</span>
<a name="FancyVerbLine.5"></a>
<br class="fancyvrb"><a 
  name="x1-19012r4"></a>&nbsp;&nbsp;<a name="FancyVerbLine.6"></a>
<br class="fancyvrb"><a 
  name="x1-19014r5"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;const</span>&nbsp;<span 
class="cmtt-10">char</span>&nbsp;<span 
class="cmtt-10">Name[256]&gt;</span>
<a name="FancyVerbLine.7"></a>
<br class="fancyvrb"><a 
  name="x1-19016r6"></a>&nbsp;&nbsp;<span 
class="cmtt-10">inline</span>&nbsp;<span 
class="cmtt-10">std::ostream&amp;</span>&nbsp;<span 
class="cmtt-10">operator&lt;&lt;(std::ostream&amp;</span>&nbsp;<span 
class="cmtt-10">os,</span>&nbsp;<span 
class="cmtt-10">const</span>&nbsp;<span 
class="cmtt-10">Variable&lt;Name&gt;&amp;</span>&nbsp;<span 
class="cmtt-10">v)</span>
<a name="FancyVerbLine.8"></a>
<br class="fancyvrb"><a 
  name="x1-19018r7"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.9"></a>
<br class="fancyvrb"><a 
  name="x1-19020r8"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">os</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">Name;</span>
<a name="FancyVerbLine.10"></a>
<br class="fancyvrb"><a 
  name="x1-19022r9"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.11"></a>
<br class="fancyvrb"><a 
  name="x1-19024r10"></a>&nbsp;&nbsp;<a name="FancyVerbLine.12"></a>
<br class="fancyvrb"><a 
  name="x1-19026r11"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">VariableDisambiguation</span>&nbsp;<span 
class="cmtt-10">{};</span>
<a name="FancyVerbLine.13"></a>
<br class="fancyvrb"><a 
  name="x1-19028r12"></a>&nbsp;&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt</span>
<a name="FancyVerbLine.14"></a>
<br class="fancyvrb"><a 
  name="x1-19030r13"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.15"></a>
<br class="fancyvrb"><a 
  name="x1-19032r14"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;const</span>&nbsp;<span 
class="cmtt-10">char</span>&nbsp;<span 
class="cmtt-10">Name[256]&gt;</span>
<a name="FancyVerbLine.16"></a>
<br class="fancyvrb"><a 
  name="x1-19034r15"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">Disambiguator&lt;Variable&lt;Name&gt;</span>&nbsp;<span 
class="cmtt-10">&gt;</span>
<a name="FancyVerbLine.17"></a>
<br class="fancyvrb"><a 
  name="x1-19036r16"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.18"></a>
                                                                                      
                                                                                      
<br class="fancyvrb"><a 
  name="x1-19038r17"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">static</span>&nbsp;<span 
class="cmtt-10">const</span>&nbsp;<span 
class="cmtt-10">bool</span>&nbsp;<span 
class="cmtt-10">is_specialized</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">true;</span>
<a name="FancyVerbLine.19"></a>
<br class="fancyvrb"><a 
  name="x1-19040r18"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">VariableDisambiguation</span>&nbsp;<span 
class="cmtt-10">Disambiguation;</span>
<a name="FancyVerbLine.20"></a>
<br class="fancyvrb"><a 
  name="x1-19042r19"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.21"></a>
<br class="fancyvrb"><a 
  name="x1-19044r20"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.22"></a>
<br class="fancyvrb"><a 
  name="x1-19046r21"></a>&nbsp;&nbsp;<a name="FancyVerbLine.23"></a>
<br class="fancyvrb"><a 
  name="x1-19048r22"></a>&nbsp;&nbsp;<a name="FancyVerbLine.24"></a>
<br class="fancyvrb"><a 
  name="x1-19050r23"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">T,</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">D&gt;</span>
<a name="FancyVerbLine.25"></a>
<br class="fancyvrb"><a 
  name="x1-19052r24"></a>&nbsp;&nbsp;<span 
class="cmtt-10">void</span>&nbsp;<span 
class="cmtt-10">TestDiff(const</span>&nbsp;<span 
class="cmtt-10">T&amp;</span>&nbsp;<span 
class="cmtt-10">t,</span>&nbsp;<span 
class="cmtt-10">const</span>&nbsp;<span 
class="cmtt-10">D&amp;</span>&nbsp;<span 
class="cmtt-10">d)</span>
<a name="FancyVerbLine.26"></a>
<br class="fancyvrb"><a 
  name="x1-19054r25"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.27"></a>
<br class="fancyvrb"><a 
  name="x1-19056r26"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt::OutputUtilities;</span>
<a name="FancyVerbLine.28"></a>
<br class="fancyvrb"><a 
  name="x1-19058r27"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt::ExprManip;</span>
<a name="FancyVerbLine.29"></a>
<br class="fancyvrb"><a 
  name="x1-19060r28"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt::Differentiation;</span>
<a name="FancyVerbLine.30"></a>
<br class="fancyvrb"><a 
  name="x1-19062r29"></a>&nbsp;&nbsp;<a name="FancyVerbLine.31"></a>
<br class="fancyvrb"><a 
  name="x1-19064r30"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cerr</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">&#34;Diff(&#34;</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">t</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">&#34;,</span>&nbsp;<span 
class="cmtt-10">&#34;</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">d</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">&#34;)\n</span>&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">&#34;</span>
<a name="FancyVerbLine.32"></a>
<br class="fancyvrb"><a 
  name="x1-19066r31"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;&nbsp;<span 
class="cmtt-10">Diff(t,</span>&nbsp;<span 
class="cmtt-10">d)</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">&#34;\n</span>&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">&#34;</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">Simplify(Diff(t,</span>&nbsp;<span 
class="cmtt-10">d))</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">std::endl;</span>
<a name="FancyVerbLine.33"></a>
<br class="fancyvrb"><a 
  name="x1-19068r32"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.34"></a>
<br class="fancyvrb"><a 
  name="x1-19070r33"></a>&nbsp;&nbsp;<a name="FancyVerbLine.35"></a>
<br class="fancyvrb"><a 
  name="x1-19072r34"></a>&nbsp;&nbsp;<a name="FancyVerbLine.36"></a>
<br class="fancyvrb"><a 
  name="x1-19074r35"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//////////////////////////////////////////////////////////////////////</span>
<a name="FancyVerbLine.37"></a>
<br class="fancyvrb"><a 
  name="x1-19076r36"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#define</span>&nbsp;<span 
class="cmtt-10">DECLARE_VARIABLE(VARNAME)</span>&nbsp;<span 
class="cmtt-10">\</span>
<a name="FancyVerbLine.38"></a>
<br class="fancyvrb"><a 
  name="x1-19078r37"></a>&nbsp;&nbsp;<span 
class="cmtt-10">extern</span>&nbsp;<span 
class="cmtt-10">const</span>&nbsp;<span 
class="cmtt-10">char</span>&nbsp;<span 
class="cmtt-10">NameOf##VARNAME[256]</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">#VARNAME</span>&nbsp;<span 
class="cmtt-10">;</span>&nbsp;<span 
class="cmtt-10">\</span>
<a name="FancyVerbLine.39"></a>
<br class="fancyvrb"><a 
  name="x1-19080r38"></a>&nbsp;&nbsp;<span 
class="cmtt-10">Variable&lt;NameOf##VARNAME&gt;</span>&nbsp;<span 
class="cmtt-10">VARNAME</span><a name="FancyVerbLine.40"></a>
<br class="fancyvrb"><a 
  name="x1-19082r39"></a>&nbsp;&nbsp;<a name="FancyVerbLine.41"></a>
<br class="fancyvrb"><a 
  name="x1-19084r40"></a>&nbsp;&nbsp;<a name="FancyVerbLine.42"></a>
<br class="fancyvrb"><a 
  name="x1-19086r41"></a>&nbsp;&nbsp;<span 
class="cmtt-10">DECLARE_VARIABLE(a);</span>
<a name="FancyVerbLine.43"></a>
<br class="fancyvrb"><a 
  name="x1-19088r42"></a>&nbsp;&nbsp;<span 
class="cmtt-10">DECLARE_VARIABLE(b);</span>
<a name="FancyVerbLine.44"></a>
<br class="fancyvrb"><a 
  name="x1-19090r43"></a>&nbsp;&nbsp;<span 
class="cmtt-10">DECLARE_VARIABLE(c);</span>
<a name="FancyVerbLine.45"></a>
<br class="fancyvrb"><a 
  name="x1-19092r44"></a>&nbsp;&nbsp;<span 
class="cmtt-10">DECLARE_VARIABLE(d);</span>
<a name="FancyVerbLine.46"></a>
<br class="fancyvrb"><a 
  name="x1-19094r45"></a>&nbsp;&nbsp;<a name="FancyVerbLine.47"></a>
<br class="fancyvrb"><a 
  name="x1-19096r46"></a>&nbsp;&nbsp;<a name="FancyVerbLine.48"></a>
<br class="fancyvrb"><a 
  name="x1-19098r47"></a>&nbsp;&nbsp;<span 
class="cmtt-10">int</span>&nbsp;<span 
class="cmtt-10">main()</span>
<a name="FancyVerbLine.49"></a>
<br class="fancyvrb"><a 
  name="x1-19100r48"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.50"></a>
<br class="fancyvrb"><a 
  name="x1-19102r49"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps;</span>
<a name="FancyVerbLine.51"></a>
<br class="fancyvrb"><a 
  name="x1-19104r50"></a>&nbsp;&nbsp;<a name="FancyVerbLine.52"></a>
<br class="fancyvrb"><a 
  name="x1-19106r51"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">TestDiff(RationalPow&lt;3,</span>&nbsp;<span 
class="cmtt-10">2&gt;(d),</span>&nbsp;<span 
class="cmtt-10">d);</span>
<a name="FancyVerbLine.53"></a>
<br class="fancyvrb"><a 
  name="x1-19108r52"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">TestDiff(a</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">b</span>&nbsp;<span 
class="cmtt-10">/</span>&nbsp;<span 
class="cmtt-10">(c</span>&nbsp;<span 
class="cmtt-10">-</span>&nbsp;<span 
class="cmtt-10">d),</span>&nbsp;<span 
class="cmtt-10">d);</span>
<a name="FancyVerbLine.54"></a>
<br class="fancyvrb"><a 
  name="x1-19110r53"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">TestDiff(a/d,</span>&nbsp;<span 
class="cmtt-10">d);</span>
<a name="FancyVerbLine.55"></a>
<br class="fancyvrb"><a 
  name="x1-19112r54"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<br class="fancyvrb"><a 
  name="x1-19114r55"></a>&nbsp;&nbsp;
</div>
<a name="subsubsection.3.4.8"></a>
<h5 class="subsubsectionHead"><span class="titlemark">3.4.8 </span> <a 
  name="x1-200003.4.8"></a>Poor Man&#8217;s Lambda Library</h5>
<!--l. 380--><p class="noindent">Lambda expressions in C++ are one possible application of the Expression Template technique. A stable,
peer-reviewed and tested implementation can be found within the <span 
class="cmtt-10--109">boost</span> library. If You feel like You still
have to write Your own lambda library (which is a true waste of time) then You can build it on top of
<span 
class="cmssbx-10--109">Daixtrose</span>. The following code snippet demonstrates how to communicate Your ideas to the <span 
class="cmssbx-10--109">Daixtrose</span>
library.
                                                                                      
                                                                                      
<div class="fancyvrb" id="fancyvrb21"><a name="FancyVerbLine.1"></a>
<br class="fancyvrb"><a 
  name="x1-20002r1"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;daixtrose/Daixt.h&#34;</span>
<a name="FancyVerbLine.2"></a><a name="FancyVerbLine.3"></a>
<br class="fancyvrb"><a 
  name="x1-20004r2"></a>&nbsp;&nbsp;<a name="FancyVerbLine.4"></a>
<br class="fancyvrb"><a 
  name="x1-20006r3"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#ifdef</span>&nbsp;<span 
class="cmtt-10">USE_BOOST_LAMBDA</span>
<a name="FancyVerbLine.5"></a>
<br class="fancyvrb"><a 
  name="x1-20008r4"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">------------------------------------------------------------</span>
<a name="FancyVerbLine.6"></a>
<br class="fancyvrb"><a 
  name="x1-20010r5"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;boost/lambda/lambda.hpp&#34;</span>
<a name="FancyVerbLine.7"></a>
<br class="fancyvrb"><a 
  name="x1-20012r6"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;boost/lambda/if.hpp&#34;</span>
<a name="FancyVerbLine.8"></a>
<br class="fancyvrb"><a 
  name="x1-20014r7"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;boost/lambda/exceptions.hpp&#34;</span>
<a name="FancyVerbLine.9"></a>
<br class="fancyvrb"><a 
  name="x1-20016r8"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;boost/lambda/casts.hpp&#34;</span>
<a name="FancyVerbLine.10"></a>
<br class="fancyvrb"><a 
  name="x1-20018r9"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;boost/lambda/algorithm.hpp&#34;</span>
<a name="FancyVerbLine.11"></a>
<br class="fancyvrb"><a 
  name="x1-20020r10"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;boost/lambda/bind.hpp&#34;</span>
<a name="FancyVerbLine.12"></a>
<br class="fancyvrb"><a 
  name="x1-20022r11"></a>&nbsp;&nbsp;<a name="FancyVerbLine.13"></a>
<br class="fancyvrb"><a 
  name="x1-20024r12"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#else</span><a name="FancyVerbLine.14"></a>
<br class="fancyvrb"><a 
  name="x1-20026r13"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">------------------------------------------------------------</span>
<a name="FancyVerbLine.15"></a>
<br class="fancyvrb"><a 
  name="x1-20028r14"></a>&nbsp;&nbsp;<a name="FancyVerbLine.16"></a>
<br class="fancyvrb"><a 
  name="x1-20030r15"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;boost/mpl/count.hpp&#34;</span>
<a name="FancyVerbLine.17"></a>
<br class="fancyvrb"><a 
  name="x1-20032r16"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;boost/mpl/list.hpp&#34;</span>
<a name="FancyVerbLine.18"></a>
<br class="fancyvrb"><a 
  name="x1-20034r17"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&#34;boost/mpl/apply_if.hpp&#34;</span>
<a name="FancyVerbLine.19"></a>
<br class="fancyvrb"><a 
  name="x1-20036r18"></a>&nbsp;&nbsp;<a name="FancyVerbLine.20"></a>
<br class="fancyvrb"><a 
  name="x1-20038r19"></a>&nbsp;&nbsp;<a name="FancyVerbLine.21"></a>
<br class="fancyvrb"><a 
  name="x1-20040r20"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//////////////////////////////////////////////////////////////////////////////</span>
<a name="FancyVerbLine.22"></a>
<br class="fancyvrb"><a 
  name="x1-20042r21"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">Poor</span>&nbsp;<span 
class="cmtt-10">man's</span>&nbsp;<span 
class="cmtt-10">lambda</span>&nbsp;<span 
class="cmtt-10">libray</span>
<a name="FancyVerbLine.23"></a>
<br class="fancyvrb"><a 
  name="x1-20044r22"></a>&nbsp;&nbsp;<a name="FancyVerbLine.24"></a>
<br class="fancyvrb"><a 
  name="x1-20046r23"></a>&nbsp;&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">MyLambda</span>
<a name="FancyVerbLine.25"></a>
<br class="fancyvrb"><a 
  name="x1-20048r24"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.26"></a>
<br class="fancyvrb"><a 
  name="x1-20050r25"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">Comparison</span>&nbsp;<span 
class="cmtt-10">{};</span>
<a name="FancyVerbLine.27"></a>
<br class="fancyvrb"><a 
  name="x1-20052r26"></a>&nbsp;&nbsp;<a name="FancyVerbLine.28"></a>
<br class="fancyvrb"><a 
  name="x1-20054r27"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">X</span>&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.29"></a>
<br class="fancyvrb"><a 
  name="x1-20056r28"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">Comparison</span>&nbsp;<span 
class="cmtt-10">Disambiguation;</span>
<a name="FancyVerbLine.30"></a>
<br class="fancyvrb"><a 
  name="x1-20058r29"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.31"></a>
<br class="fancyvrb"><a 
  name="x1-20060r30"></a>&nbsp;&nbsp;<a name="FancyVerbLine.32"></a>
<br class="fancyvrb"><a 
  name="x1-20062r31"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>
<a name="FancyVerbLine.33"></a>
<br class="fancyvrb"><a 
  name="x1-20064r32"></a>&nbsp;&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">Evaluator</span><a name="FancyVerbLine.34"></a>
<br class="fancyvrb"><a 
  name="x1-20066r33"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.35"></a>
<br class="fancyvrb"><a 
  name="x1-20068r34"></a>&nbsp;&nbsp;<span 
class="cmtt-10">private:</span>
<a name="FancyVerbLine.36"></a>
<br class="fancyvrb"><a 
  name="x1-20070r35"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">T</span>&nbsp;<span 
class="cmtt-10">Value_;</span>
<a name="FancyVerbLine.37"></a>
<br class="fancyvrb"><a 
  name="x1-20072r36"></a>&nbsp;&nbsp;<a name="FancyVerbLine.38"></a>
<br class="fancyvrb"><a 
  name="x1-20074r37"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">handle</span>&nbsp;<span 
class="cmtt-10">placeholder</span>
<a name="FancyVerbLine.39"></a>
<br class="fancyvrb"><a 
  name="x1-20076r38"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">inline</span>&nbsp;<span 
class="cmtt-10">T</span><a name="FancyVerbLine.40"></a>
<br class="fancyvrb"><a 
  name="x1-20078r39"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">operator()(const</span>&nbsp;<span 
class="cmtt-10">X&amp;</span>&nbsp;<span 
class="cmtt-10">x)</span>&nbsp;<span 
class="cmtt-10">const</span>
<a name="FancyVerbLine.41"></a>
<br class="fancyvrb"><a 
  name="x1-20080r40"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.42"></a>
<br class="fancyvrb"><a 
  name="x1-20082r41"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">Value_;</span>
<a name="FancyVerbLine.43"></a>
<br class="fancyvrb"><a 
  name="x1-20084r42"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.44"></a>
<br class="fancyvrb"><a 
  name="x1-20086r43"></a>&nbsp;&nbsp;<a name="FancyVerbLine.45"></a>
<br class="fancyvrb"><a 
  name="x1-20088r44"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">reach</span>&nbsp;<span 
class="cmtt-10">through</span>
<a name="FancyVerbLine.46"></a>
<br class="fancyvrb"><a 
  name="x1-20090r45"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">C&gt;</span>
<a name="FancyVerbLine.47"></a>
<br class="fancyvrb"><a 
  name="x1-20092r46"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">inline</span>&nbsp;<span 
class="cmtt-10">const</span>&nbsp;<span 
class="cmtt-10">C&amp;</span><a name="FancyVerbLine.48"></a>
<br class="fancyvrb"><a 
  name="x1-20094r47"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">operator()(const</span>&nbsp;<span 
class="cmtt-10">C&amp;</span>&nbsp;<span 
class="cmtt-10">c)</span>&nbsp;<span 
class="cmtt-10">const</span>
<a name="FancyVerbLine.49"></a>
<br class="fancyvrb"><a 
  name="x1-20096r48"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.50"></a>
<br class="fancyvrb"><a 
  name="x1-20098r49"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">c;</span>
<a name="FancyVerbLine.51"></a>
<br class="fancyvrb"><a 
  name="x1-20100r50"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.52"></a>
<br class="fancyvrb"><a 
  name="x1-20102r51"></a>&nbsp;&nbsp;<a name="FancyVerbLine.53"></a>
<br class="fancyvrb"><a 
  name="x1-20104r52"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">decide</span>&nbsp;<span 
class="cmtt-10">on</span>&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">type</span>
<a name="FancyVerbLine.54"></a>
<br class="fancyvrb"><a 
  name="x1-20106r53"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">OP&gt;</span>&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">ReturnType</span>
<a name="FancyVerbLine.55"></a>
                                                                                      
                                                                                      
<br class="fancyvrb"><a 
  name="x1-20108r54"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.56"></a>
<br class="fancyvrb"><a 
  name="x1-20110r55"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">typename</span>&nbsp;<span 
class="cmtt-10">boost::mpl::list&lt;</span>
<a name="FancyVerbLine.57"></a>
<br class="fancyvrb"><a 
  name="x1-20112r56"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps::BinaryPlus,</span>
<a name="FancyVerbLine.58"></a>
<br class="fancyvrb"><a 
  name="x1-20114r57"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps::BinaryMinus,</span>
<a name="FancyVerbLine.59"></a>
<br class="fancyvrb"><a 
  name="x1-20116r58"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps::BinaryMultiply,</span>
<a name="FancyVerbLine.60"></a>
<br class="fancyvrb"><a 
  name="x1-20118r59"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps::BinaryDivide,</span>
<a name="FancyVerbLine.61"></a>
<br class="fancyvrb"><a 
  name="x1-20120r60"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps::BinaryModuloAliasRemainder,</span>
<a name="FancyVerbLine.62"></a>
<br class="fancyvrb"><a 
  name="x1-20122r61"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps::UnaryPlus,</span>
<a name="FancyVerbLine.63"></a>
<br class="fancyvrb"><a 
  name="x1-20124r62"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps::UnaryMinus,</span>
<a name="FancyVerbLine.64"></a>
<br class="fancyvrb"><a 
  name="x1-20126r63"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps::UnaryPreIncrement,</span>
<a name="FancyVerbLine.65"></a>
<br class="fancyvrb"><a 
  name="x1-20128r64"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps::UnaryPreDecrement,</span>
<a name="FancyVerbLine.66"></a>
<br class="fancyvrb"><a 
  name="x1-20130r65"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps::UnaryComplement</span>
<a name="FancyVerbLine.67"></a>
<br class="fancyvrb"><a 
  name="x1-20132r66"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">be</span>&nbsp;<span 
class="cmtt-10">continued</span>&nbsp;<span 
class="cmtt-10">(sin,</span>&nbsp;<span 
class="cmtt-10">cos,</span>&nbsp;<span 
class="cmtt-10">etc</span>&nbsp;<span 
class="cmtt-10">...)</span>
<a name="FancyVerbLine.68"></a>
<br class="fancyvrb"><a 
  name="x1-20134r67"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">&gt;</span>&nbsp;<span 
class="cmtt-10">ArithmeticBinOps;</span>
<a name="FancyVerbLine.69"></a>
<br class="fancyvrb"><a 
  name="x1-20136r68"></a>&nbsp;&nbsp;<a name="FancyVerbLine.70"></a>
<br class="fancyvrb"><a 
  name="x1-20138r69"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">typename</span>&nbsp;<span 
class="cmtt-10">boost::mpl::count&lt;ArithmeticBinOps,</span>&nbsp;<span 
class="cmtt-10">OP&gt;::type</span>&nbsp;<span 
class="cmtt-10">n;</span>
<a name="FancyVerbLine.71"></a>
<br class="fancyvrb"><a 
  name="x1-20140r70"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">typename</span>&nbsp;<span 
class="cmtt-10">boost::mpl::if_&lt;n,</span>&nbsp;<span 
class="cmtt-10">T,</span>&nbsp;<span 
class="cmtt-10">bool&gt;::type</span>&nbsp;<span 
class="cmtt-10">type;</span>
<a name="FancyVerbLine.72"></a>
<br class="fancyvrb"><a 
  name="x1-20142r71"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.73"></a>
<br class="fancyvrb"><a 
  name="x1-20144r72"></a>&nbsp;&nbsp;<a name="FancyVerbLine.74"></a>
<br class="fancyvrb"><a 
  name="x1-20146r73"></a>&nbsp;&nbsp;<span 
class="cmtt-10">public:</span>
<a name="FancyVerbLine.75"></a>
<br class="fancyvrb"><a 
  name="x1-20148r74"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">inline</span>&nbsp;<span 
class="cmtt-10">Evaluator(const</span>&nbsp;<span 
class="cmtt-10">T&amp;</span>&nbsp;<span 
class="cmtt-10">Value)</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">Value_(Value)</span>&nbsp;<span 
class="cmtt-10">{}</span>
<a name="FancyVerbLine.76"></a>
<br class="fancyvrb"><a 
  name="x1-20150r75"></a>&nbsp;&nbsp;<a name="FancyVerbLine.77"></a>
<br class="fancyvrb"><a 
  name="x1-20152r76"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">ARG,</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">OP&gt;</span>
<a name="FancyVerbLine.78"></a>
<br class="fancyvrb"><a 
  name="x1-20154r77"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">inline</span>&nbsp;<span 
class="cmtt-10">typename</span>&nbsp;<span 
class="cmtt-10">ReturnType&lt;OP&gt;::type</span>
<a name="FancyVerbLine.79"></a>
<br class="fancyvrb"><a 
  name="x1-20156r78"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">operator()(const</span>&nbsp;<span 
class="cmtt-10">Daixt::UnOp&lt;ARG,</span>&nbsp;<span 
class="cmtt-10">OP&gt;&amp;</span>&nbsp;<span 
class="cmtt-10">UO)</span>&nbsp;<span 
class="cmtt-10">const</span>
<a name="FancyVerbLine.80"></a>
<br class="fancyvrb"><a 
  name="x1-20158r79"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.81"></a>
<br class="fancyvrb"><a 
  name="x1-20160r80"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">OP::Apply((*this)(UO.arg()),</span>
<a name="FancyVerbLine.82"></a>
<br class="fancyvrb"><a 
  name="x1-20162r81"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Daixt::Hint&lt;typename</span>&nbsp;<span 
class="cmtt-10">ReturnType&lt;OP&gt;::type&gt;());</span>
<a name="FancyVerbLine.83"></a>
<br class="fancyvrb"><a 
  name="x1-20164r82"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.84"></a>
<br class="fancyvrb"><a 
  name="x1-20166r83"></a>&nbsp;&nbsp;<a name="FancyVerbLine.85"></a>
<br class="fancyvrb"><a 
  name="x1-20168r84"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">LHS,</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">RHS,</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">OP&gt;</span>
<a name="FancyVerbLine.86"></a>
<br class="fancyvrb"><a 
  name="x1-20170r85"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">inline</span>&nbsp;<span 
class="cmtt-10">typename</span>&nbsp;<span 
class="cmtt-10">ReturnType&lt;OP&gt;::type</span>
<a name="FancyVerbLine.87"></a>
<br class="fancyvrb"><a 
  name="x1-20172r86"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">operator()(const</span>&nbsp;<span 
class="cmtt-10">Daixt::BinOp&lt;LHS,</span>&nbsp;<span 
class="cmtt-10">RHS,</span>&nbsp;<span 
class="cmtt-10">OP&gt;&amp;</span>&nbsp;<span 
class="cmtt-10">BO)</span>&nbsp;<span 
class="cmtt-10">const</span>
<a name="FancyVerbLine.88"></a>
<br class="fancyvrb"><a 
  name="x1-20174r87"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.89"></a>
<br class="fancyvrb"><a 
  name="x1-20176r88"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">OP::Apply((*this)(BO.lhs()),</span>
<a name="FancyVerbLine.90"></a>
<br class="fancyvrb"><a 
  name="x1-20178r89"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">(*this)(BO.rhs()),</span>
<a name="FancyVerbLine.91"></a>
<br class="fancyvrb"><a 
  name="x1-20180r90"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Daixt::Hint&lt;typename</span>&nbsp;<span 
class="cmtt-10">ReturnType&lt;OP&gt;::type&gt;());</span>
<a name="FancyVerbLine.92"></a>
<br class="fancyvrb"><a 
  name="x1-20182r91"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.93"></a>
<br class="fancyvrb"><a 
  name="x1-20184r92"></a>&nbsp;&nbsp;<a name="FancyVerbLine.94"></a>
<br class="fancyvrb"><a 
  name="x1-20186r93"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.95"></a>
<br class="fancyvrb"><a 
  name="x1-20188r94"></a>&nbsp;&nbsp;<a name="FancyVerbLine.96"></a>
<br class="fancyvrb"><a 
  name="x1-20190r95"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">MyLambda</span>
<a name="FancyVerbLine.97"></a>
<br class="fancyvrb"><a 
  name="x1-20192r96"></a>&nbsp;&nbsp;<a name="FancyVerbLine.98"></a>
<br class="fancyvrb"><a 
  name="x1-20194r97"></a>&nbsp;&nbsp;<a name="FancyVerbLine.99"></a>
<br class="fancyvrb"><a 
  name="x1-20196r98"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">communicate</span>&nbsp;<span 
class="cmtt-10">with</span>&nbsp;<span 
class="cmtt-10">Daixtrose</span>
<a name="FancyVerbLine.100"></a>
<br class="fancyvrb"><a 
  name="x1-20198r99"></a>&nbsp;&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt</span>
<a name="FancyVerbLine.101"></a>
<br class="fancyvrb"><a 
  name="x1-20200r100"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.102"></a>
<br class="fancyvrb"><a 
  name="x1-20202r101"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">disambiguation</span>&nbsp;<span 
class="cmtt-10">(the</span>&nbsp;<span 
class="cmtt-10">odd</span>&nbsp;<span 
class="cmtt-10">stuff</span>&nbsp;<span 
class="cmtt-10">for</span>&nbsp;<span 
class="cmtt-10">small</span>&nbsp;<span 
class="cmtt-10">examples,</span>&nbsp;<span 
class="cmtt-10">but</span>&nbsp;<span 
class="cmtt-10">useful</span>
<a name="FancyVerbLine.103"></a>
<br class="fancyvrb"><a 
  name="x1-20204r102"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">if</span>&nbsp;<span 
class="cmtt-10">You</span>&nbsp;<span 
class="cmtt-10">do</span>&nbsp;<span 
class="cmtt-10">a</span>&nbsp;<span 
class="cmtt-10">lot</span>&nbsp;<span 
class="cmtt-10">of</span>&nbsp;<span 
class="cmtt-10">different</span>&nbsp;<span 
class="cmtt-10">Expression</span>&nbsp;<span 
class="cmtt-10">Template</span>&nbsp;<span 
class="cmtt-10">stuff</span>&nbsp;<span 
class="cmtt-10">in</span>&nbsp;<span 
class="cmtt-10">the</span>
<a name="FancyVerbLine.104"></a>
<br class="fancyvrb"><a 
  name="x1-20206r103"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">same</span>&nbsp;<span 
class="cmtt-10">translation</span>&nbsp;<span 
class="cmtt-10">unit</span>
<a name="FancyVerbLine.105"></a>
<br class="fancyvrb"><a 
  name="x1-20208r104"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">T,</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">OP&gt;</span>
<a name="FancyVerbLine.106"></a>
<br class="fancyvrb"><a 
  name="x1-20210r105"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">BinOpResultDisambiguator&lt;MyLambda::Comparison,</span>&nbsp;<span 
class="cmtt-10">T,</span>&nbsp;<span 
class="cmtt-10">OP&gt;</span>
<a name="FancyVerbLine.107"></a>
<br class="fancyvrb"><a 
  name="x1-20212r106"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.108"></a>
<br class="fancyvrb"><a 
  name="x1-20214r107"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">MyLambda::Comparison</span>&nbsp;<span 
class="cmtt-10">Disambiguation;</span>
<a name="FancyVerbLine.109"></a>
                                                                                      
                                                                                      
<br class="fancyvrb"><a 
  name="x1-20216r108"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.110"></a>
<br class="fancyvrb"><a 
  name="x1-20218r109"></a>&nbsp;&nbsp;<a name="FancyVerbLine.111"></a>
<br class="fancyvrb"><a 
  name="x1-20220r110"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">T,</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">OP&gt;</span>
<a name="FancyVerbLine.112"></a>
<br class="fancyvrb"><a 
  name="x1-20222r111"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">BinOpResultDisambiguator&lt;T,</span>&nbsp;<span 
class="cmtt-10">MyLambda::Comparison,</span>&nbsp;<span 
class="cmtt-10">OP&gt;</span>
<a name="FancyVerbLine.113"></a>
<br class="fancyvrb"><a 
  name="x1-20224r112"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.114"></a>
<br class="fancyvrb"><a 
  name="x1-20226r113"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">MyLambda::Comparison</span>&nbsp;<span 
class="cmtt-10">Disambiguation;</span>
<a name="FancyVerbLine.115"></a>
<br class="fancyvrb"><a 
  name="x1-20228r114"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.116"></a>
<br class="fancyvrb"><a 
  name="x1-20230r115"></a>&nbsp;&nbsp;<a name="FancyVerbLine.117"></a>
<br class="fancyvrb"><a 
  name="x1-20232r116"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">OP&gt;</span>
<a name="FancyVerbLine.118"></a>
<br class="fancyvrb"><a 
  name="x1-20234r117"></a>&nbsp;&nbsp;<span 
class="cmtt-10">struct</span>&nbsp;<span 
class="cmtt-10">BinOpResultDisambiguator&lt;MyLambda::Comparison,</span>&nbsp;<span 
class="cmtt-10">MyLambda::Comparison,</span>
<a name="FancyVerbLine.119"></a>
<br class="fancyvrb"><a 
  name="x1-20236r118"></a>&nbsp;&nbsp;<span 
class="cmtt-10">OP&gt;</span><a name="FancyVerbLine.120"></a>
<br class="fancyvrb"><a 
  name="x1-20238r119"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.121"></a>
<br class="fancyvrb"><a 
  name="x1-20240r120"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">typedef</span>&nbsp;<span 
class="cmtt-10">MyLambda::Comparison</span>&nbsp;<span 
class="cmtt-10">Disambiguation;</span>
<a name="FancyVerbLine.122"></a>
<br class="fancyvrb"><a 
  name="x1-20242r121"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.123"></a>
<br class="fancyvrb"><a 
  name="x1-20244r122"></a>&nbsp;&nbsp;<a name="FancyVerbLine.124"></a>
<br class="fancyvrb"><a 
  name="x1-20246r123"></a>&nbsp;&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">operator()</span>&nbsp;<span 
class="cmtt-10">for</span>&nbsp;<span 
class="cmtt-10">use</span>&nbsp;<span 
class="cmtt-10">with</span>&nbsp;<span 
class="cmtt-10">STL</span>
<a name="FancyVerbLine.125"></a>
<br class="fancyvrb"><a 
  name="x1-20248r124"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>
<a name="FancyVerbLine.126"></a>
<br class="fancyvrb"><a 
  name="x1-20250r125"></a>&nbsp;&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">FeaturesOfExpression&lt;MyLambda::Comparison,</span>&nbsp;<span 
class="cmtt-10">T&gt;</span>
<a name="FancyVerbLine.127"></a>
<br class="fancyvrb"><a 
  name="x1-20252r126"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.128"></a>
<br class="fancyvrb"><a 
  name="x1-20254r127"></a>&nbsp;&nbsp;<span 
class="cmtt-10">public:</span>
<a name="FancyVerbLine.129"></a>
<br class="fancyvrb"><a 
  name="x1-20256r128"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">template</span>&nbsp;<span 
class="cmtt-10">&lt;class</span>&nbsp;<span 
class="cmtt-10">D&gt;</span>
<a name="FancyVerbLine.130"></a>
<br class="fancyvrb"><a 
  name="x1-20258r129"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">bool</span>&nbsp;<span 
class="cmtt-10">operator()(const</span>&nbsp;<span 
class="cmtt-10">D&amp;</span>&nbsp;<span 
class="cmtt-10">d)</span>
<a name="FancyVerbLine.131"></a>
<br class="fancyvrb"><a 
  name="x1-20260r130"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.132"></a>
<br class="fancyvrb"><a 
  name="x1-20262r131"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">MyLambda::Evaluator&lt;D&gt;(d)</span>
<a name="FancyVerbLine.133"></a>
<br class="fancyvrb"><a 
  name="x1-20264r132"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">(Daixt::unwrap_expr(static_cast&lt;const</span>&nbsp;<span 
class="cmtt-10">T&amp;&gt;(*this)));</span>
<a name="FancyVerbLine.134"></a>
<br class="fancyvrb"><a 
  name="x1-20266r133"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.135"></a>
<br class="fancyvrb"><a 
  name="x1-20268r134"></a>&nbsp;&nbsp;<a name="FancyVerbLine.136"></a>
<br class="fancyvrb"><a 
  name="x1-20270r135"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">virtual</span>&nbsp;<span 
class="cmtt-10">~FeaturesOfExpression()</span>&nbsp;<span 
class="cmtt-10">{};</span>
<a name="FancyVerbLine.137"></a>
<br class="fancyvrb"><a 
  name="x1-20272r136"></a>&nbsp;&nbsp;<span 
class="cmtt-10">};</span>
<a name="FancyVerbLine.138"></a>
<br class="fancyvrb"><a 
  name="x1-20274r137"></a>&nbsp;&nbsp;<a name="FancyVerbLine.139"></a>
<br class="fancyvrb"><a 
  name="x1-20276r138"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt</span>
<a name="FancyVerbLine.140"></a>
<br class="fancyvrb"><a 
  name="x1-20278r139"></a>&nbsp;&nbsp;<a name="FancyVerbLine.141"></a>
<br class="fancyvrb"><a 
  name="x1-20280r140"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#endif</span>&nbsp;<span 
class="cmtt-10">//</span>&nbsp;<span 
class="cmtt-10">USE_BOOST_LAMBDA</span>
<a name="FancyVerbLine.142"></a>
<br class="fancyvrb"><a 
  name="x1-20282r141"></a>&nbsp;&nbsp;<a name="FancyVerbLine.143"></a>
<br class="fancyvrb"><a 
  name="x1-20284r142"></a>&nbsp;&nbsp;<a name="FancyVerbLine.144"></a>
<br class="fancyvrb"><a 
  name="x1-20286r143"></a>&nbsp;&nbsp;<a name="FancyVerbLine.145"></a>
<br class="fancyvrb"><a 
  name="x1-20288r144"></a>&nbsp;&nbsp;<span 
class="cmtt-10">////////////////////////////////////////////////////////////////////////////</span>
<a name="FancyVerbLine.146"></a>
<br class="fancyvrb"><a 
  name="x1-20290r145"></a>&nbsp;&nbsp;<span 
class="cmtt-10">template&lt;class</span>&nbsp;<span 
class="cmtt-10">InputIterator,</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">OutputIterator,</span>&nbsp;<span 
class="cmtt-10">class</span>&nbsp;<span 
class="cmtt-10">Predicate&gt;</span>
<a name="FancyVerbLine.147"></a>
<br class="fancyvrb"><a 
  name="x1-20292r146"></a>&nbsp;&nbsp;<span 
class="cmtt-10">OutputIterator</span>&nbsp;<span 
class="cmtt-10">copy_if(InputIterator</span>&nbsp;<span 
class="cmtt-10">begin,</span>&nbsp;<span 
class="cmtt-10">InputIterator</span>&nbsp;<span 
class="cmtt-10">end,</span>
<a name="FancyVerbLine.148"></a>
<br class="fancyvrb"><a 
  name="x1-20294r147"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">OutputIterator</span>&nbsp;<span 
class="cmtt-10">destBegin,</span>&nbsp;<span 
class="cmtt-10">Predicate</span>&nbsp;<span 
class="cmtt-10">p)</span>
<a name="FancyVerbLine.149"></a>
<br class="fancyvrb"><a 
  name="x1-20296r148"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.150"></a>
<br class="fancyvrb"><a 
  name="x1-20298r149"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">while</span>&nbsp;<span 
class="cmtt-10">(begin</span>&nbsp;<span 
class="cmtt-10">!=</span>&nbsp;<span 
class="cmtt-10">end)</span>
<a name="FancyVerbLine.151"></a>
<br class="fancyvrb"><a 
  name="x1-20300r150"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.152"></a>
<br class="fancyvrb"><a 
  name="x1-20302r151"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">if</span>&nbsp;<span 
class="cmtt-10">(p(*begin))</span>
<a name="FancyVerbLine.153"></a>
<br class="fancyvrb"><a 
  name="x1-20304r152"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">*destBegin++</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">*begin;</span>
<a name="FancyVerbLine.154"></a>
<br class="fancyvrb"><a 
  name="x1-20306r153"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">++begin;</span>
<a name="FancyVerbLine.155"></a>
<br class="fancyvrb"><a 
  name="x1-20308r154"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.156"></a>
<br class="fancyvrb"><a 
  name="x1-20310r155"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">return</span>&nbsp;<span 
class="cmtt-10">destBegin;</span>
<a name="FancyVerbLine.157"></a>
<br class="fancyvrb"><a 
  name="x1-20312r156"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
<a name="FancyVerbLine.158"></a>
<br class="fancyvrb"><a 
  name="x1-20314r157"></a>&nbsp;&nbsp;<a name="FancyVerbLine.159"></a>
<br class="fancyvrb"><a 
  name="x1-20316r158"></a>&nbsp;&nbsp;<a name="FancyVerbLine.160"></a>
<br class="fancyvrb"><a 
  name="x1-20318r159"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&lt;vector&gt;</span><a name="FancyVerbLine.161"></a>
<br class="fancyvrb"><a 
  name="x1-20320r160"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&lt;iterator&gt;</span><a name="FancyVerbLine.162"></a>
<br class="fancyvrb"><a 
  name="x1-20322r161"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&lt;algorithm&gt;</span>
<a name="FancyVerbLine.163"></a>
                                                                                      
                                                                                      
<br class="fancyvrb"><a 
  name="x1-20324r162"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#include</span>&nbsp;<span 
class="cmtt-10">&lt;iostream&gt;</span><a name="FancyVerbLine.164"></a>
<br class="fancyvrb"><a 
  name="x1-20326r163"></a>&nbsp;&nbsp;<a name="FancyVerbLine.165"></a>
<br class="fancyvrb"><a 
  name="x1-20328r164"></a>&nbsp;&nbsp;<a name="FancyVerbLine.166"></a>
<br class="fancyvrb"><a 
  name="x1-20330r165"></a>&nbsp;&nbsp;<span 
class="cmtt-10">int</span>&nbsp;<span 
class="cmtt-10">main()</span>
<a name="FancyVerbLine.167"></a>
<br class="fancyvrb"><a 
  name="x1-20332r166"></a>&nbsp;&nbsp;<span 
class="cmtt-10">{</span>
<a name="FancyVerbLine.168"></a>
<br class="fancyvrb"><a 
  name="x1-20334r167"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#ifdef</span>&nbsp;<span 
class="cmtt-10">USE_BOOST_LAMBDA</span>
<a name="FancyVerbLine.169"></a>
<br class="fancyvrb"><a 
  name="x1-20336r168"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">boost::lambda::placeholder1_type</span>&nbsp;<span 
class="cmtt-10">x;</span>
<a name="FancyVerbLine.170"></a>
<br class="fancyvrb"><a 
  name="x1-20338r169"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#else</span><a name="FancyVerbLine.171"></a>
<br class="fancyvrb"><a 
  name="x1-20340r170"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">MyLambda::X</span>&nbsp;<span 
class="cmtt-10">x;</span>
<a name="FancyVerbLine.172"></a>
<br class="fancyvrb"><a 
  name="x1-20342r171"></a>&nbsp;&nbsp;<span 
class="cmtt-10">#endif</span><a name="FancyVerbLine.173"></a>
<br class="fancyvrb"><a 
  name="x1-20344r172"></a>&nbsp;&nbsp;<a name="FancyVerbLine.174"></a>
<br class="fancyvrb"><a 
  name="x1-20346r173"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::vector&lt;int&gt;</span>&nbsp;<span 
class="cmtt-10">v;</span>
<a name="FancyVerbLine.175"></a>
<br class="fancyvrb"><a 
  name="x1-20348r174"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">for</span>&nbsp;<span 
class="cmtt-10">(int</span>&nbsp;<span 
class="cmtt-10">i</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">0;</span>&nbsp;<span 
class="cmtt-10">i</span>&nbsp;<span 
class="cmtt-10">&lt;=</span>&nbsp;<span 
class="cmtt-10">20;</span>&nbsp;<span 
class="cmtt-10">++i)</span>
<a name="FancyVerbLine.176"></a>
<br class="fancyvrb"><a 
  name="x1-20350r175"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">v.push_back(i);</span>
<a name="FancyVerbLine.177"></a>
<br class="fancyvrb"><a 
  name="x1-20352r176"></a>&nbsp;&nbsp;<a name="FancyVerbLine.178"></a>
<br class="fancyvrb"><a 
  name="x1-20354r177"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::vector&lt;int&gt;::iterator</span>&nbsp;<span 
class="cmtt-10">b(v.begin());</span>
<a name="FancyVerbLine.179"></a>
<br class="fancyvrb"><a 
  name="x1-20356r178"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::vector&lt;int&gt;::iterator</span>&nbsp;<span 
class="cmtt-10">e(v.end());</span>
<a name="FancyVerbLine.180"></a>
<br class="fancyvrb"><a 
  name="x1-20358r179"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::ostream_iterator&lt;int&gt;</span>&nbsp;<span 
class="cmtt-10">out(std::cout,</span>&nbsp;<span 
class="cmtt-10">&#34;</span>&nbsp;<span 
class="cmtt-10">&#34;);</span>
<a name="FancyVerbLine.181"></a>
<br class="fancyvrb"><a 
  name="x1-20360r180"></a>&nbsp;&nbsp;<a name="FancyVerbLine.182"></a>
<br class="fancyvrb"><a 
  name="x1-20362r181"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps;</span>
<a name="FancyVerbLine.183"></a>
<br class="fancyvrb"><a 
  name="x1-20364r182"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">using</span>&nbsp;<span 
class="cmtt-10">namespace</span>&nbsp;<span 
class="cmtt-10">Daixt::DefaultOps::LogicalOps;</span>
<a name="FancyVerbLine.184"></a>
<br class="fancyvrb"><a 
  name="x1-20366r183"></a>&nbsp;&nbsp;<a name="FancyVerbLine.185"></a>
<br class="fancyvrb"><a 
  name="x1-20368r184"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cout</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">&#34;All</span>&nbsp;<span 
class="cmtt-10">numbers</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">&#34;;</span>&nbsp;<span 
class="cmtt-10">std::copy(b,</span>&nbsp;<span 
class="cmtt-10">e,</span>&nbsp;<span 
class="cmtt-10">out);</span>
<a name="FancyVerbLine.186"></a>
<br class="fancyvrb"><a 
  name="x1-20370r185"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cout</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">'\n';</span>
<a name="FancyVerbLine.187"></a>
<br class="fancyvrb"><a 
  name="x1-20372r186"></a>&nbsp;&nbsp;<a name="FancyVerbLine.188"></a>
<br class="fancyvrb"><a 
  name="x1-20374r187"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cout</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">&#34;x</span>&nbsp;<span 
class="cmtt-10">&lt;</span>&nbsp;<span 
class="cmtt-10">6</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">&#34;;</span>&nbsp;<span 
class="cmtt-10">copy_if(b,</span>&nbsp;<span 
class="cmtt-10">e,</span>&nbsp;<span 
class="cmtt-10">out,</span>&nbsp;<span 
class="cmtt-10">x</span>&nbsp;<span 
class="cmtt-10">&lt;</span>&nbsp;<span 
class="cmtt-10">6);</span>
<a name="FancyVerbLine.189"></a>
<br class="fancyvrb"><a 
  name="x1-20376r188"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cout</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">'\n';</span>
<a name="FancyVerbLine.190"></a>
<br class="fancyvrb"><a 
  name="x1-20378r189"></a>&nbsp;&nbsp;<a name="FancyVerbLine.191"></a>
<br class="fancyvrb"><a 
  name="x1-20380r190"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cout</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">&#34;x</span>&nbsp;<span 
class="cmtt-10">&gt;</span>&nbsp;<span 
class="cmtt-10">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">&#34;;</span>&nbsp;<span 
class="cmtt-10">copy_if(b,</span>&nbsp;<span 
class="cmtt-10">e,</span>&nbsp;<span 
class="cmtt-10">out,</span>&nbsp;<span 
class="cmtt-10">x</span>&nbsp;<span 
class="cmtt-10">&gt;</span>&nbsp;<span 
class="cmtt-10">15);</span>
<a name="FancyVerbLine.192"></a>
<br class="fancyvrb"><a 
  name="x1-20382r191"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cout</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">'\n';</span>
<a name="FancyVerbLine.193"></a>
<br class="fancyvrb"><a 
  name="x1-20384r192"></a>&nbsp;&nbsp;<a name="FancyVerbLine.194"></a>
<br class="fancyvrb"><a 
  name="x1-20386r193"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cout</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">&#34;x</span>&nbsp;<span 
class="cmtt-10">&gt;</span>&nbsp;<span 
class="cmtt-10">5</span>&nbsp;<span 
class="cmtt-10">&amp;&amp;</span>&nbsp;<span 
class="cmtt-10">x</span>&nbsp;<span 
class="cmtt-10">&lt;</span>&nbsp;<span 
class="cmtt-10">13</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">&#34;;</span>&nbsp;<span 
class="cmtt-10">copy_if(b,</span>&nbsp;<span 
class="cmtt-10">e,</span>&nbsp;<span 
class="cmtt-10">out,</span>&nbsp;<span 
class="cmtt-10">(x</span>&nbsp;<span 
class="cmtt-10">&gt;</span>&nbsp;<span 
class="cmtt-10">5)</span>&nbsp;<span 
class="cmtt-10">&amp;&amp;</span>&nbsp;<span 
class="cmtt-10">(x</span>&nbsp;<span 
class="cmtt-10">&lt;</span>
<a name="FancyVerbLine.195"></a>
<br class="fancyvrb"><a 
  name="x1-20388r194"></a>&nbsp;&nbsp;<span 
class="cmtt-10">13));</span>
<a name="FancyVerbLine.196"></a>
<br class="fancyvrb"><a 
  name="x1-20390r195"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cout</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">'\n';</span>
<a name="FancyVerbLine.197"></a>
<br class="fancyvrb"><a 
  name="x1-20392r196"></a>&nbsp;&nbsp;<a name="FancyVerbLine.198"></a>
<br class="fancyvrb"><a 
  name="x1-20394r197"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cout</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">&#34;2</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">x</span>&nbsp;<span 
class="cmtt-10">==</span>&nbsp;<span 
class="cmtt-10">x</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">5</span>&nbsp;&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">&#34;;</span>&nbsp;<span 
class="cmtt-10">copy_if(b,</span>&nbsp;<span 
class="cmtt-10">e,</span>&nbsp;<span 
class="cmtt-10">out,</span>&nbsp;<span 
class="cmtt-10">2</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">x</span>&nbsp;<span 
class="cmtt-10">==</span>&nbsp;<span 
class="cmtt-10">x</span>&nbsp;<span 
class="cmtt-10">+</span>&nbsp;<span 
class="cmtt-10">5);</span>
<a name="FancyVerbLine.199"></a>
<br class="fancyvrb"><a 
  name="x1-20396r198"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cout</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">'\n';</span>
<a name="FancyVerbLine.200"></a>
<br class="fancyvrb"><a 
  name="x1-20398r199"></a>&nbsp;&nbsp;<a name="FancyVerbLine.201"></a>
<br class="fancyvrb"><a 
  name="x1-20400r200"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cout</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">&#34;3</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">x</span>&nbsp;<span 
class="cmtt-10">!=</span>&nbsp;<span 
class="cmtt-10">x</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">x</span>&nbsp;&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">&#34;;</span>&nbsp;<span 
class="cmtt-10">copy_if(b,</span>&nbsp;<span 
class="cmtt-10">e,</span>&nbsp;<span 
class="cmtt-10">out,</span>&nbsp;<span 
class="cmtt-10">3</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">x</span>&nbsp;<span 
class="cmtt-10">!=</span>&nbsp;<span 
class="cmtt-10">x</span>&nbsp;<span 
class="cmtt-10">*</span>&nbsp;<span 
class="cmtt-10">x);</span>
<a name="FancyVerbLine.202"></a>
<br class="fancyvrb"><a 
  name="x1-20402r201"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cout</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">'\n';</span>
<a name="FancyVerbLine.203"></a>
<br class="fancyvrb"><a 
  name="x1-20404r202"></a>&nbsp;&nbsp;<a name="FancyVerbLine.204"></a>
<br class="fancyvrb"><a 
  name="x1-20406r203"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cout</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">&#34;!(x</span>&nbsp;<span 
class="cmtt-10">&lt;</span>&nbsp;<span 
class="cmtt-10">18)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">&#34;;</span>&nbsp;<span 
class="cmtt-10">copy_if(b,</span>&nbsp;<span 
class="cmtt-10">e,</span>&nbsp;<span 
class="cmtt-10">out,</span>&nbsp;<span 
class="cmtt-10">!(x</span>&nbsp;<span 
class="cmtt-10">&lt;</span>&nbsp;<span 
class="cmtt-10">18));</span>
<a name="FancyVerbLine.205"></a>
<br class="fancyvrb"><a 
  name="x1-20408r204"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">std::cout</span>&nbsp;<span 
class="cmtt-10">&lt;&lt;</span>&nbsp;<span 
class="cmtt-10">'\n';</span>
<br class="fancyvrb"><a 
  name="x1-20410r205"></a>&nbsp;&nbsp;<span 
class="cmtt-10">}</span>
</div>
<a name="subsection.3.5"></a>
<h4 class="subsectionHead"><span class="titlemark">3.5</span> <a 
  name="x1-210003.5"></a>Have a lot of fun</h4>
<!--l. 399--><p class="noindent">This is the end of the Quick Tour. Further Information can be gathered by looking at the files in directories
<span 
class="cmtt-10--109">demos</span>, <span 
class="cmtt-10--109">tiny</span> and <span 
class="cmtt-10--109">linalg</span>.
                                                                                      
                                                                                      
<!--l. 403--><p class="noindent">Please send me some feedback via the mail addresses at   <a 
href="http://daixtrose.sourceforge.net/contact.html" class="url" ><span 
class="cmtt-10--109">http://daixtrose.sourceforge.net/contact.html</span></a>
<!--l. 405--><p class="noindent">Enjoy!
                                                                                      
                                                                                      
 
</body></html> 

                                                                                      


